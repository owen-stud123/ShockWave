This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
BackEnd/.env
BackEnd/.env.example
BackEnd/app.js
BackEnd/check-db.js
BackEnd/config/database.js
BackEnd/controllers/authController.js
BackEnd/controllers/dashboardController.js
BackEnd/controllers/listingsController.js
BackEnd/controllers/messagesController.js
BackEnd/controllers/ordersController.js
BackEnd/controllers/profileController.js
BackEnd/controllers/reviewsController.js
BackEnd/controllers/uploadController.js
BackEnd/database.sqlite
BackEnd/middleware/auth.js
BackEnd/middleware/errorHandler.js
BackEnd/models/listingModel.js
BackEnd/models/messageModel.js
BackEnd/models/orderModel.js
BackEnd/models/placeholder.txt
BackEnd/models/proposalModel.js
BackEnd/models/reviewModel.js
BackEnd/models/userModel.js
BackEnd/package.json
BackEnd/routes/adminRoutes.js
BackEnd/routes/authRoutes.js
BackEnd/routes/dashboardRoutes.js
BackEnd/routes/listingsRoutes.js
BackEnd/routes/messagesRoutes.js
BackEnd/routes/ordersRoutes.js
BackEnd/routes/paymentsRoutes.js
BackEnd/routes/profileRoutes.js
BackEnd/routes/reviewsRoutes.js
BackEnd/routes/uploadRoutes.js
BackEnd/scripts/init.js
BackEnd/services/placeholder.txt
BackEnd/test-auth.js
BackEnd/uploads/avatar-1762325296812-221264594.JPG
BackEnd/uploads/avatar-1762325682386-937779326.JPG
BackEnd/uploads/avatar-1762325760099-964931611.JPG
BackEnd/uploads/avatar-1762326265889-544456786.JPG
BackEnd/uploads/avatar-1762326390458-480307754.JPG
BackEnd/uploads/avatar-1762326715135-467890813.JPG
BackEnd/uploads/avatar-1762326816877-298001955.JPG
BackEnd/uploads/avatar-1762326931039-344859974.JPG
BackEnd/uploads/avatar-1762329535231-384055876.JPG
BackEnd/uploads/avatar-1762329627915-477332700.JPG
BackEnd/uploads/avatar-1762330256237-488604816.png
BackEnd/uploads/avatar-1762330770888-104961900.JPG
BackEnd/uploads/avatar-1762353879366-516174905.JPG
BackEnd/uploads/avatar-1763371852306-188029841.JPG
BackEnd/uploads/avatar-1763371899107-410775161.JPG
BackEnd/utils/placeholder.txt
DOCUMENTATION_INDEX.md
ERROR_CHECK_REPORT.md
eslint.config.js
FrontEnd/App.jsx
FrontEnd/components/Footer.jsx
FrontEnd/components/Navbar.jsx
FrontEnd/components/PrivateRoute.jsx
FrontEnd/components/ReviewForm.jsx
FrontEnd/context/AuthContext.jsx
FrontEnd/main.jsx
FrontEnd/pages/AdminPanel.jsx
FrontEnd/pages/Browse.jsx
FrontEnd/pages/Checkout.jsx
FrontEnd/pages/CreateListing.jsx
FrontEnd/pages/Dashboard.jsx
FrontEnd/pages/Home.jsx
FrontEnd/pages/ListingDetail.jsx
FrontEnd/pages/Listings.jsx
FrontEnd/pages/Login.jsx
FrontEnd/pages/Messages.jsx
FrontEnd/pages/Profile.jsx
FrontEnd/pages/ProfileEdit.jsx
FrontEnd/pages/Register.jsx
FrontEnd/services/api.js
FrontEnd/styles/App.css
FrontEnd/styles/index.css
index.html
package.json
PLATFORM_FLOW_DIAGRAM.md
postcss.config.js
README.md
tailwind.config.js
vite.config.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="BackEnd/controllers/ordersController.js">
import { validationResult } from 'express-validator';
import Order from '../models/orderModel.js';
import Proposal from '../models/proposalModel.js';
import Listing from '../models/listingModel.js';
import User from '../models/userModel.js';

// @desc    Get all orders for logged-in user
// @route   GET /api/orders
// @access  Private
export const getUserOrders = async (req, res, next) => {
  try {
    const userId = req.user.id;
    const role = req.user.role;

    // Find orders where user is either buyer or seller
    const query = role === 'designer' 
      ? { seller: userId } 
      : { buyer: userId };

    const orders = await Order.find(query)
      .populate('buyer', 'name username')
      .populate('seller', 'name username')
      .populate('listing', 'title')
      .populate('proposal', 'price_offered delivery_time')
      .sort({ createdAt: -1 })
      .lean();

    // Format response
    const formattedOrders = orders.map(order => ({
      ...order,
      id: order._id,
      buyer_name: order.buyer?.name,
      seller_name: order.seller?.name,
      listing_title: order.listing?.title,
      price: order.proposal?.price_offered || order.amount,
      created_at: order.createdAt,
      updated_at: order.updatedAt
    }));

    res.json(formattedOrders);
  } catch (error) {
    next(error);
  }
};

// @desc    Create a new order (accept proposal)
// @route   POST /api/orders
// @access  Private (Business only)
export const createOrder = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const { proposal_id } = req.body;
    const buyer = req.user.id;

    // Verify proposal exists
    const proposal = await Proposal.findById(proposal_id)
      .populate('listing')
      .populate('designer');

    if (!proposal) {
      return res.status(404).json({ error: 'Proposal not found' });
    }

    // Verify user is the listing owner
    if (proposal.listing.owner.toString() !== buyer) {
      return res.status(403).json({ error: 'You are not authorized to accept this proposal' });
    }

    // Verify proposal is still pending
    if (proposal.status !== 'pending') {
      return res.status(400).json({ error: 'This proposal has already been processed' });
    }

    // Calculate platform fee (10%)
    const amount = proposal.price_offered;
    const platform_fee = amount * 0.10;

    // Create order
    const order = new Order({
      buyer,
      seller: proposal.designer._id,
      listing: proposal.listing._id,
      proposal: proposal_id,
      amount,
      platform_fee,
      status: 'pending'
    });

    await order.save();

    // Update proposal status
    proposal.status = 'accepted';
    await proposal.save();

    // Update listing status
    await Listing.findByIdAndUpdate(proposal.listing._id, { status: 'in_progress' });

    res.status(201).json({ 
      id: order.id, 
      message: 'Order created successfully',
      order: {
        id: order.id,
        amount: order.amount,
        status: order.status,
        seller_name: proposal.designer.name
      }
    });
  } catch (error) {
    next(error);
  }
};

// @desc    Get order by ID
// @route   GET /api/orders/:id
// @access  Private
export const getOrderById = async (req, res, next) => {
  try {
    const orderId = req.params.id;
    const userId = req.user.id;

    const order = await Order.findById(orderId)
      .populate('buyer', 'name username profile.avatar_url')
      .populate('seller', 'name username profile.avatar_url')
      .populate('listing', 'title description')
      .populate('proposal', 'price_offered delivery_time message')
      .lean();

    if (!order) {
      return res.status(404).json({ error: 'Order not found' });
    }

    // Verify user is part of the order
    if (order.buyer._id.toString() !== userId && order.seller._id.toString() !== userId) {
      return res.status(403).json({ error: 'You are not authorized to view this order' });
    }

    // Format response
    const formattedOrder = {
      ...order,
      id: order._id,
      buyer_name: order.buyer.name,
      buyer_avatar: order.buyer.profile?.avatar_url,
      seller_name: order.seller.name,
      seller_avatar: order.seller.profile?.avatar_url,
      listing_title: order.listing.title,
      listing_description: order.listing.description,
      price: order.proposal.price_offered,
      delivery_time: order.proposal.delivery_time,
      proposal_message: order.proposal.message,
      created_at: order.createdAt,
      updated_at: order.updatedAt
    };

    res.json(formattedOrder);
  } catch (error) {
    next(error);
  }
};

// @desc    Update order status
// @route   PATCH /api/orders/:id/status
// @access  Private
export const updateOrderStatus = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const orderId = req.params.id;
    const userId = req.user.id;
    const { status } = req.body;

    const order = await Order.findById(orderId);

    if (!order) {
      return res.status(404).json({ error: 'Order not found' });
    }

    // Verify user is part of the order
    const isBuyer = order.buyer.toString() === userId;
    const isSeller = order.seller.toString() === userId;

    if (!isBuyer && !isSeller) {
      return res.status(403).json({ error: 'You are not authorized to update this order' });
    }

    // Validate status transitions
    const allowedTransitions = {
      pending: ['paid', 'cancelled'],
      paid: ['in_progress', 'cancelled'],
      in_progress: ['delivered', 'cancelled'],
      delivered: ['completed', 'disputed'],
      disputed: ['completed', 'cancelled'],
      completed: [],
      cancelled: []
    };

    if (!allowedTransitions[order.status].includes(status)) {
      return res.status(400).json({ 
        error: `Cannot transition from ${order.status} to ${status}` 
      });
    }

    // Role-based permissions
    if (status === 'delivered' && !isSeller) {
      return res.status(403).json({ error: 'Only the seller can mark as delivered' });
    }

    if (status === 'completed' && !isBuyer) {
      return res.status(403).json({ error: 'Only the buyer can mark as completed' });
    }

    // Update order status
    order.status = status;
    await order.save();

    // Update listing status if order is completed or cancelled
    if (status === 'completed') {
      await Listing.findByIdAndUpdate(order.listing, { status: 'completed' });
    } else if (status === 'cancelled') {
      await Listing.findByIdAndUpdate(order.listing, { status: 'open' });
      // Reset proposal to pending so it can be accepted again
      await Proposal.findByIdAndUpdate(order.proposal, { status: 'pending' });
    }

    res.json({ 
      message: 'Order status updated successfully',
      order: {
        id: order.id,
        status: order.status
      }
    });
  } catch (error) {
    next(error);
  }
};
</file>

<file path="BackEnd/models/listingModel.js">
import mongoose from 'mongoose';

const listingSchema = new mongoose.Schema({
  owner: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  title: {
    type: String,
    required: true,
  },
  description: {
    type: String,
    required: true,
  },
  budget_min: {
    type: Number,
  },
  budget_max: {
    type: Number,
  },
  deadline: {
    type: Date,
  },
  tags: {
    type: [String],
    default: [],
  },
  attachments: {
    type: [String], // Array of URLs
    default: [],
  },
  status: {
    type: String,
    enum: ['open', 'in_progress', 'completed', 'cancelled'],
    default: 'open',
  },
}, {
  timestamps: true, // Adds createdAt and updatedAt automatically
  toJSON: { virtuals: true },
  toObject: { virtuals: true }
});

listingSchema.virtual('id').get(function() {
  return this._id.toHexString();
});

const Listing = mongoose.model('Listing', listingSchema);

export default Listing;
</file>

<file path="BackEnd/models/messageModel.js">
import mongoose from 'mongoose';

const messageSchema = new mongoose.Schema({
  thread_id: {
    type: String,
    required: true,
    index: true,
  },
  sender: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  recipient: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  body: {
    type: String,
    required: true,
  },
  attachments: {
    type: [String],
    default: [],
  },
  is_read: {
    type: Boolean,
    default: false,
  },
}, {
  timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' },
  toJSON: { virtuals: true },
  toObject: { virtuals: true }
});

messageSchema.virtual('id').get(function() {
  return this._id.toHexString();
});


const Message = mongoose.model('Message', messageSchema);

export default Message;
</file>

<file path="BackEnd/models/orderModel.js">
import mongoose from 'mongoose';

const orderSchema = new mongoose.Schema({
  buyer: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  seller: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  listing: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Listing',
  },
  // gig: { type: mongoose.Schema.Types.ObjectId, ref: 'Gig' }, // Uncomment when Gig model is created
  proposal: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Proposal',
  },
  amount: {
    type: Number,
    required: true,
  },
  platform_fee: {
    type: Number,
    required: true,
  },
  status: {
    type: String,
    enum: ['pending', 'paid', 'in_progress', 'delivered', 'completed', 'cancelled', 'disputed'],
    default: 'pending',
  },
  stripe_payment_intent_id: {
    type: String,
  },
}, {
  timestamps: true,
  toJSON: { virtuals: true },
  toObject: { virtuals: true }
});

orderSchema.virtual('id').get(function() {
  return this._id.toHexString();
});


const Order = mongoose.model('Order', orderSchema);

export default Order;
</file>

<file path="BackEnd/models/proposalModel.js">
import mongoose from 'mongoose';

const proposalSchema = new mongoose.Schema({
  listing: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'Listing',
  },
  designer: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  message: {
    type: String,
    required: true,
  },
  price_offered: {
    type: Number,
    required: true,
  },
  delivery_time: {
    type: Number, // in days
  },
  status: {
    type: String,
    enum: ['pending', 'accepted', 'rejected'],
    default: 'pending',
  },
}, {
  timestamps: true,
  toJSON: { virtuals: true },
  toObject: { virtuals: true }
});

proposalSchema.virtual('id').get(function() {
  return this._id.toHexString();
});


const Proposal = mongoose.model('Proposal', proposalSchema);

export default Proposal;
</file>

<file path="BackEnd/models/reviewModel.js">
import mongoose from 'mongoose';

const reviewSchema = new mongoose.Schema({
  order: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'Order',
  },
  reviewer: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  reviewee: {
    type: mongoose.Schema.Types.ObjectId,
    required: true,
    ref: 'User',
  },
  rating: {
    type: Number,
    required: true,
    min: 1,
    max: 5,
  },
  comment: {
    type: String,
  },
}, {
  timestamps: true,
  toJSON: { virtuals: true },
  toObject: { virtuals: true }
});

reviewSchema.virtual('id').get(function() {
  return this._id.toHexString();
});

// Ensure a user can only review a specific order once
reviewSchema.index({ order: 1, reviewer: 1 }, { unique: true });

const Review = mongoose.model('Review', reviewSchema);

export default Review;
</file>

<file path="BackEnd/models/userModel.js">
import mongoose from 'mongoose';
import bcrypt from 'bcrypt';

const profileSchema = new mongoose.Schema({
  bio: { type: String, default: '' },
  skills: { type: [String], default: [] },
  location: { type: String, default: '' },
  hourly_rate: { type: Number },
  portfolio_urls: { type: [String], default: [] },
  social_links: {
    type: Map,
    of: String,
    default: {}
  },
  avatar_url: { type: String, default: '' },
}, { _id: false });

const userSchema = new mongoose.Schema({
  username: {
    type: String,
    required: true,
    unique: true,
    trim: true,
  },
  password_hash: {
    type: String,
    required: true,
  },
  role: {
    type: String,
    required: true,
    enum: ['designer', 'business', 'admin'],
  },
  name: {
    type: String,
    required: true,
  },
  last_login: {
    type: Date,
  },
  is_active: {
    type: Boolean,
    default: true,
  },
  profile: profileSchema,
}, {
  timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' },
  toJSON: { virtuals: true },
  toObject: { virtuals: true }
});

// Virtual for 'id'
userSchema.virtual('id').get(function() {
  return this._id.toHexString();
});

// Initialize profile when a new user is created
userSchema.pre('save', function(next) {
  if (this.isNew) {
    this.profile = {}; // Mongoose will apply defaults from schema
  }
  next();
});

// Method to compare password for login
userSchema.methods.matchPassword = async function(enteredPassword) {
  return await bcrypt.compare(enteredPassword, this.password_hash);
};

// Middleware to hash password before saving
userSchema.pre('save', async function(next) {
  if (!this.isModified('password_hash')) {
    next();
  }
  const salt = await bcrypt.genSalt(12);
  this.password_hash = await bcrypt.hash(this.password_hash, salt);
});

const User = mongoose.model('User', userSchema);

export default User;
</file>

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="BackEnd/.env.example">
# Copy this file to .env and update the values

# Server Configuration
NODE_ENV=development
PORT=5000

# MongoDB Connection
# Replace with your MongoDB connection string. For local development, this is usually fine.
MONGO_URI=mongodb://localhost:27017/shockwave_db

# JWT Secrets (CHANGE THESE IN PRODUCTION!)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_make_it_very_long_and_random
JWT_REFRESH_SECRET=your_super_secret_refresh_key_change_this_in_production_make_it_very_long_and_random

# Client URL
CLIENT_URL=http://localhost:5173

# Stripe (Get these from your Stripe dashboard)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
</file>

<file path="BackEnd/check-db.js">
import mongoose from 'mongoose';
import dotenv from 'dotenv';
import connectDB from './config/database.js';
import User from './models/userModel.js';

dotenv.config();

const verifyDatabase = async () => {
  try {
    // Connect to the database
    await connectDB();
    console.log('\n‚úÖ DATABASE VERIFICATION\n');
    console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n');

    // Fetch all users
    const users = await User.find({}).select('id username name role is_active');

    console.log(`üìä Total Users: ${users.length}\n`);

    users.forEach(user => {
      console.log(`${user.role === 'designer' ? 'üë®‚Äçüé®' : user.role === 'business' ? 'üíº' : 'üîê'} ${user.role.toUpperCase()}`);
      console.log(`   ID: ${user.id}`);
      console.log(`   Username: ${user.username}`);
      console.log(`   Name: ${user.name}`);
      console.log(`   Active: ${user.is_active ? 'Yes' : 'No'}`);
      console.log('');
    });

    console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n');
  } catch (error) {
    console.error('‚ùå Database verification failed:', error);
  } finally {
    // Disconnect from the database
    await mongoose.disconnect();
    console.log('MongoDB connection closed.');
    process.exit(0);
  }
};

verifyDatabase();
</file>

<file path="BackEnd/config/database.js">
import mongoose from 'mongoose';
import dotenv from 'dotenv';

dotenv.config();

const connectDB = async () => {
  try {
    const conn = await mongoose.connect(process.env.MONGO_URI);
    console.log(`‚úÖ MongoDB Connected: ${conn.connection.host}`);
  } catch (error) {
    console.error(`‚ùå Error connecting to MongoDB: ${error.message}`);
    console.error('\nüí° Make sure MongoDB is running!');
    console.error('   - Windows: Run "net start MongoDB" or start mongod.exe manually');
    console.error('   - Install MongoDB from: https://www.mongodb.com/try/download/community\n');
    process.exit(1);
  }
};

export default connectDB;
</file>

<file path="BackEnd/controllers/authController.js">
import bcrypt from 'bcrypt';
import jwt from 'jsonwebtoken';
import { validationResult } from 'express-validator';
import User from '../models/userModel.js';

// Generate JWT tokens
const generateTokens = (userId) => {
  const accessToken = jwt.sign(
    { userId }, 
    process.env.JWT_SECRET, 
    { expiresIn: '15m' }
  );
  
  const refreshToken = jwt.sign(
    { userId }, 
    process.env.JWT_REFRESH_SECRET, 
    { expiresIn: '7d' }
  );

  return { accessToken, refreshToken };
};

// @desc    Register a new user
// @route   POST /api/auth/register
// @access  Public
export const registerUser = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const { username, password, name, role } = req.body;

    const existingUser = await User.findOne({ username });
    if (existingUser) {
      return res.status(409).json({ error: 'Username already exists' });
    }

    // Create new user with password (will be hashed by pre-save middleware)
    const newUser = new User({
      username,
      password_hash: password, // Will be hashed by userModel pre-save hook
      name,
      role,
    });

    await newUser.save();

    const { accessToken, refreshToken } = generateTokens(newUser.id);

    res.cookie('refreshToken', refreshToken, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 7 * 24 * 60 * 60 * 1000 // 7 days
    });

    res.status(201).json({
      message: 'User created successfully',
      user: { id: newUser.id, username, name, role },
      accessToken
    });
  } catch (error) {
    next(error);
  }
};

// @desc    Authenticate user & get token
// @route   POST /api/auth/login
// @access  Public
export const loginUser = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const { username, password } = req.body;

    const user = await User.findOne({ username }).select('+password_hash');

    if (!user || !user.is_active) {
      return res.status(401).json({ error: 'Invalid credentials' });
    }

    const isValidPassword = await user.matchPassword(password);
    if (!isValidPassword) {
      return res.status(401).json({ error: 'Invalid credentials' });
    }

    user.last_login = new Date();
    await user.save();

    const { accessToken, refreshToken } = generateTokens(user.id);

    res.cookie('refreshToken', refreshToken, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 7 * 24 * 60 * 60 * 1000
    });

    res.json({
      message: 'Login successful',
      user: { id: user.id, username: user.username, name: user.name, role: user.role },
      accessToken
    });
  } catch (error) {
    next(error);
  }
};

// @desc    Refresh access token
// @route   POST /api/auth/refresh
// @access  Public
export const refreshToken = async (req, res, next) => {
  try {
    const { refreshToken } = req.cookies;
    if (!refreshToken) {
      return res.status(401).json({ error: 'Refresh token required' });
    }

    jwt.verify(refreshToken, process.env.JWT_REFRESH_SECRET, async (err, decoded) => {
      if (err) {
        return res.status(403).json({ error: 'Invalid refresh token' });
      }

      const user = await User.findOne({ _id: decoded.userId, is_active: true })
        .select('id username name role');
      
      if (!user) {
        return res.status(403).json({ error: 'User not found' });
      }

      const { accessToken } = generateTokens(user.id);
      res.json({ accessToken, user: { id: user.id, username: user.username, name: user.name, role: user.role } });
    });
  } catch (error) {
    next(error);
  }
};

// @desc    Logout user
// @route   POST /api/auth/logout
// @access  Private
export const logoutUser = (req, res) => {
  res.clearCookie('refreshToken');
  res.json({ message: 'Logged out successfully' });
};

// @desc    Get current user profile
// @route   GET /api/auth/me
// @access  Private
export const getMe = (req, res) => {
  res.json({ user: req.user });
};
</file>

<file path="BackEnd/controllers/dashboardController.js">
import Order from '../models/orderModel.js';
import Review from '../models/reviewModel.js';
import Message from '../models/messageModel.js';

// Get dashboard stats for the logged-in user

export const getDashboardStats = async (req, res, next) => {
  try {
    if (!req.user) {
      return res.status(401).json({ error: 'Not authenticated' });
    }
    const userId = req.user.id;
    const role = req.user.role;

    let projectsQuery;
    let financialQuery;

    if (role === 'designer') {
      projectsQuery = { seller: userId, status: { $in: ['in_progress', 'delivered'] } };
      financialQuery = { seller: userId, status: 'completed' };
    } else { // 'business' role
      projectsQuery = { buyer: userId, status: { $in: ['in_progress', 'delivered'] } };
      financialQuery = { buyer: userId, status: 'completed' };
    }

    const [projectsCount, financialResult, reviewsCount, messagesCount] = await Promise.all([
      Order.countDocuments(projectsQuery),
      Order.aggregate([
        { $match: financialQuery },
        { $group: { _id: null, total: { $sum: '$amount' } } }
      ]),
      Review.countDocuments({ reviewee: userId }),
      Message.countDocuments({ recipient: userId, is_read: false })
    ]);

    const stats = {
      projects: projectsCount || 0,
      earnings: financialResult[0]?.total || 0.00,
      reviews: reviewsCount || 0,
      messages: messagesCount || 0,
    };

    res.json(stats);
  } catch (error) {
    console.error("Error in getDashboardStats:", error);
    next(error);
  }
};
</file>

<file path="BackEnd/controllers/uploadController.js">
import multer from 'multer';
import path from 'path';
import fs from 'fs';
import User from '../models/userModel.js';

// Ensure the uploads directory exists
const uploadDir = './uploads';
if (!fs.existsSync(uploadDir)) {
  fs.mkdirSync(uploadDir);
}

// Set up storage engine for Multer
const storage = multer.diskStorage({
  destination: (req, file, cb) => {
    cb(null, uploadDir);
  },
  filename: (req, file, cb) => {
    // Create a unique filename to avoid overwriting
    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);
    cb(null, file.fieldname + '-' + uniqueSuffix + path.extname(file.originalname));
  }
});

// Initialize upload middleware
const upload = multer({
  storage: storage,
  limits: { fileSize: 1024 * 1024 * 5 }, // 5MB file size limit
  fileFilter: (req, file, cb) => {
    // Allow only images
    const filetypes = /jpeg|jpg|png|gif/;
    const mimetype = filetypes.test(file.mimetype);
    const extname = filetypes.test(path.extname(file.originalname).toLowerCase());

    if (mimetype && extname) {
      return cb(null, true);
    }
    cb(new Error('Error: File upload only supports the following filetypes - ' + filetypes));
  }
}).single('avatar'); // Expects a single file with the field name 'avatar'

// @desc    Upload user avatar
// @route   POST /api/uploads/avatar
// @access  Private
export const uploadAvatar = (req, res, next) => {
  upload(req, res, async (err) => {
    if (err) {
      // Multer error (e.g., file size, file type)
      return res.status(400).json({ error: err.message });
    }
    if (!req.file) {
      return res.status(400).json({ error: 'Please select a file to upload.' });
    }

    const avatarUrl = `/uploads/${req.file.filename}`;

    try {
      // Update the user's profile in the database with the new avatar URL
      await User.findByIdAndUpdate(
        req.user.id, 
        { $set: { 'profile.avatar_url': avatarUrl } }
      );

      res.json({
        message: 'Avatar uploaded successfully',
        avatarUrl: avatarUrl
      });
    } catch (dbError) {
      next(dbError);
    }
  });
};
</file>

<file path="BackEnd/middleware/auth.js">
import jwt from 'jsonwebtoken';
import User from '../models/userModel.js';

export const authenticateToken = (req, res, next) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1]; // Bearer TOKEN

  if (!token) {
    return res.status(401).json({ error: 'Access token required' });
  }

  jwt.verify(token, process.env.JWT_SECRET, async (err, decoded) => {
    if (err) {
      return res.status(403).json({ error: 'Invalid or expired token' });
    }

    // Get user from database
    const user = await User.findOne({ _id: decoded.userId, is_active: true })
      .select('id username role name')
      .lean();
    
    if (!user) {
      return res.status(403).json({ error: 'User not found or inactive' });
    }

    req.user = { id: user._id.toString(), username: user.username, role: user.role, name: user.name };
    next();
  });
};

export const requireRole = (roles) => {
  return (req, res, next) => {
    if (!req.user) {
      return res.status(401).json({ error: 'Authentication required' });
    }

    if (!roles.includes(req.user.role)) {
      return res.status(403).json({ error: 'Insufficient permissions' });
    }

    next();
  };
};

export const optionalAuth = (req, res, next) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1];

  if (!token) {
    return next();
  }

  jwt.verify(token, process.env.JWT_SECRET, async (err, decoded) => {
    if (!err) {
      const user = await User.findOne({ _id: decoded.userId, is_active: true })
        .select('id username role name')
        .lean();
      if (user) {
        req.user = { id: user._id.toString(), username: user.username, role: user.role, name: user.name };
      }
    }
    next();
  });
};
</file>

<file path="BackEnd/middleware/errorHandler.js">
export const errorHandler = (err, req, res, next) => {
  console.error('Error:', err);

  // Validation errors
  if (err.name === 'ValidationError') {
    return res.status(400).json({
      error: 'Validation Error',
      details: err.details || err.message
    });
  }

  // JWT errors
  if (err.name === 'JsonWebTokenError') {
    return res.status(401).json({
      error: 'Invalid token'
    });
  }

  if (err.name === 'TokenExpiredError') {
    return res.status(401).json({
      error: 'Token expired'
    });
  }

  // MongoDB errors
  if (err.code === 11000) { // Duplicate key error
    return res.status(409).json({
      error: 'Resource already exists'
    });
  }

  // Mongoose validation errors
  if (err.name === 'CastError') {
    return res.status(400).json({
      error: 'Invalid ID format'
    });
  }

  // File upload errors
  if (err.code === 'LIMIT_FILE_SIZE') {
    return res.status(413).json({
      error: 'File too large'
    });
  }

  // Stripe errors
  if (err.type === 'StripeCardError') {
    return res.status(402).json({
      error: 'Payment failed',
      message: err.message
    });
  }

  // Default error
  res.status(err.status || 500).json({
    error: err.message || 'Internal Server Error',
    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
  });
};
</file>

<file path="BackEnd/models/placeholder.txt">
// placeholder
</file>

<file path="BackEnd/routes/adminRoutes.js">
import express from 'express';
import { requireRole } from '../middleware/auth.js';

const router = express.Router();

// Get all users (admin only)
router.get('/users', requireRole(['admin']), (req, res) => {
  res.json({ message: 'Get all users - TODO' });
});

// Suspend/activate user
router.patch('/users/:id/suspend', requireRole(['admin']), (req, res) => {
  res.json({ message: 'Suspend user - TODO' });
});

// Get platform analytics
router.get('/analytics', requireRole(['admin']), (req, res) => {
  res.json({ message: 'Get analytics - TODO' });
});

export default router;
</file>

<file path="BackEnd/routes/authRoutes.js">
import express from 'express';
import { body } from 'express-validator';
import {
  registerUser,
  loginUser,
  refreshToken,
  logoutUser,
  getMe
} from '../controllers/authController.js';
import { authenticateToken } from '../middleware/auth.js';

const router = express.Router();

// Validation middleware
const registerValidation = [
  body('username').isLength({ min: 3 }).trim(),
  body('password').isLength({ min: 6 }),
  body('name').notEmpty().trim(),
  body('role').isIn(['designer', 'business'])
];

const loginValidation = [
  body('username').notEmpty().trim(),
  body('password').notEmpty()
];

// Routes
router.post('/register', registerValidation, registerUser);
router.post('/login', loginValidation, loginUser);
router.post('/refresh', refreshToken);
router.post('/logout', logoutUser);
router.get('/me', authenticateToken, getMe);

export default router;
</file>

<file path="BackEnd/routes/dashboardRoutes.js">
import express from 'express';
import { getDashboardStats } from '../controllers/dashboardController.js';
import { authenticateToken } from '../middleware/auth.js';

const router = express.Router();

router.get('/stats', authenticateToken, getDashboardStats);

export default router;
</file>

<file path="BackEnd/routes/messagesRoutes.js">
import express from 'express';
import { authenticateToken } from '../middleware/auth.js';
import { getMessageThreads, getMessagesInThread } from '../controllers/messagesController.js';

const router = express.Router();

// Get all message threads for the logged-in user
router.get('/threads', authenticateToken, getMessageThreads);

// Get messages in a thread with a specific user
router.get('/threads/:participantId', authenticateToken, getMessagesInThread);

// The POST for sending a message will be handled by Socket.IO,
// but you could add a RESTful endpoint here as a fallback.

export default router;
</file>

<file path="BackEnd/routes/ordersRoutes.js">
import express from 'express';
import { body } from 'express-validator';
import { authenticateToken, requireRole } from '../middleware/auth.js';
import {
  getUserOrders,
  createOrder,
  getOrderById,
  updateOrderStatus
} from '../controllers/ordersController.js';

const router = express.Router();

// Validation middleware
const createOrderValidation = [
  body('proposal_id').isMongoId().withMessage('Valid proposal ID is required')
];

const updateStatusValidation = [
  body('status').isIn(['pending', 'paid', 'in_progress', 'delivered', 'completed', 'cancelled', 'disputed'])
    .withMessage('Invalid status')
];

// Get user orders
router.get('/', authenticateToken, getUserOrders);

// Create order (accept proposal)
router.post('/', authenticateToken, requireRole(['business']), createOrderValidation, createOrder);

// Get order by ID
router.get('/:id', authenticateToken, getOrderById);

// Update order status
router.patch('/:id/status', authenticateToken, updateStatusValidation, updateOrderStatus);

export default router;
</file>

<file path="BackEnd/routes/paymentsRoutes.js">
import express from 'express';
import { authenticateToken } from '../middleware/auth.js';

const router = express.Router();

// Create payment intent
router.post('/checkout', authenticateToken, (req, res) => {
  res.json({ message: 'Payment checkout - TODO' });
});

// Stripe webhook
router.post('/webhook', express.raw({ type: 'application/json' }), (req, res) => {
  res.json({ message: 'Payment webhook - TODO' });
});

export default router;
</file>

<file path="BackEnd/routes/profileRoutes.js">
import express from 'express';
import { body } from 'express-validator';
import { getProfileById, updateProfile, searchProfiles } from '../controllers/profileController.js';
import { authenticateToken, optionalAuth } from '../middleware/auth.js';

const router = express.Router();

const updateProfileValidation = [
  body('bio').optional().isLength({ max: 1000 }),
  body('skills').optional().isArray(),
  body('location').optional().isLength({ max: 100 }),
  body('hourly_rate').optional().isFloat({ min: 0 }),
  body('portfolio_urls').optional().isArray(),
  body('social_links').optional().isObject()
];

router.get('/', searchProfiles);
router.get('/:id', optionalAuth, getProfileById);
router.put('/:id', authenticateToken, updateProfileValidation, updateProfile);

export default router;
</file>

<file path="BackEnd/routes/reviewsRoutes.js">
import express from 'express';
import { body } from 'express-validator';
import { authenticateToken } from '../middleware/auth.js';
import { createReview, getReviewsForUser } from '../controllers/reviewsController.js';

const router = express.Router();

const createReviewValidation = [
  body('order_id').isInt().withMessage('Order ID must be an integer.'),
  body('reviewee_id').isInt().withMessage('Reviewee ID must be an integer.'),
  body('rating').isInt({ min: 1, max: 5 }).withMessage('Rating must be between 1 and 5.'),
  body('comment').optional().isString().isLength({ max: 1000 })
];

router.post('/', authenticateToken, createReviewValidation, createReview);
router.get('/user/:userId', getReviewsForUser);

export default router;
</file>

<file path="BackEnd/routes/uploadRoutes.js">
import express from 'express';
import { authenticateToken } from '../middleware/auth.js';
import { uploadAvatar } from '../controllers/uploadController.js';

const router = express.Router();

router.post('/avatar', authenticateToken, uploadAvatar);

// TODO: Add a route for uploading portfolio images
// router.post('/portfolio', authenticateToken, uploadPortfolioImages);

export default router;
</file>

<file path="BackEnd/scripts/init.js">
import mongoose from 'mongoose';
import dotenv from 'dotenv';
import connectDB from '../config/database.js';

// Load Models
import User from '../models/userModel.js';
import Listing from '../models/listingModel.js';
import Proposal from '../models/proposalModel.js';
import Order from '../models/orderModel.js';
import Message from '../models/messageModel.js';
import Review from '../models/reviewModel.js';

dotenv.config();

const clearDatabase = async () => {
  try {
    console.log('üóëÔ∏è  Clearing existing data...');
    // Order matters for logs, but not for Mongo's parallel deletion
    await Review.deleteMany({});
    await Message.deleteMany({});
    await Order.deleteMany({});
    await Proposal.deleteMany({});
    await Listing.deleteMany({});
    await User.deleteMany({});
    console.log('‚úÖ Database cleared');
  } catch (error) {
    console.error('‚ùå Error clearing database:', error);
    process.exit(1);
  }
};

const createTestAccounts = async () => {
  try {
    console.log('üë• Creating test accounts...\n');

    const accounts = [
      {
        username: 'designer_creative',
        password_hash: 'design2024',
        name: 'Creative Designer',
        role: 'designer',
        profile: {
          bio: 'Professional designer specializing in branding and visual identity.',
          skills: ['Logo Design', 'Branding', 'UI/UX', 'Illustration'],
        },
      },
      {
        username: 'business_startup',
        password_hash: 'startup2024',
        name: 'Tech Startup Co',
        role: 'business',
        profile: {
          bio: 'Growing tech company looking for talented designers.',
        },
      },
      {
        username: 'admin_master',
        password_hash: 'admin2024',
        name: 'System Administrator',
        role: 'admin',
        profile: {
          bio: 'Platform administrator.',
          skills: ['Platform Management'],
        },
      },
    ];

    for (const account of accounts) {
      // The password will be hashed by the pre-save middleware in the User model
      const user = new User(account);
      await user.save();
      
      console.log(`‚úÖ Created ${account.role.toUpperCase()} account:`);
      console.log(`   Username: ${account.username}`);
      console.log(`   Password: ${account.password_hash}`); // Note: this is the plain text before hashing
      console.log(`   Name: ${account.name}\n`);
    }

    console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
    console.log('üéâ TEST ACCOUNTS READY FOR TESTING');
    console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
    console.log('\nüìã DESIGNER ACCOUNT:');
    console.log('   Username: designer_creative');
    console.log('   Password: design2024');
    console.log('\nüíº BUSINESS ACCOUNT:');
    console.log('   Username: business_startup');
    console.log('   Password: startup2024');
    console.log('\nüîê ADMIN ACCOUNT:');
    console.log('   Username: admin_master');
    console.log('   Password: admin2024');
    console.log('\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n');

  } catch (error) {
    console.error('‚ùå Error creating test accounts:', error);
    process.exit(1);
  }
};

const init = async () => {
  console.log('\nüöÄ Initializing ShockWave Digital Marketplace with MongoDB...\n');
  await connectDB();
  await clearDatabase();
  await createTestAccounts();
  console.log('‚úÖ Initialization complete!\n');
  await mongoose.disconnect();
  process.exit(0);
};

init();
</file>

<file path="BackEnd/services/placeholder.txt">
// placeholder
</file>

<file path="BackEnd/test-auth.js">
import fetch from 'node-fetch';

const API_URL = 'http://localhost:5000/api';

console.log('\nüß™ TESTING AUTHENTICATION ENDPOINTS\n');
console.log('‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n');

// Test 1: Login with Designer
async function testDesignerLogin() {
  console.log('Test 1: Designer Login');
  try {
    const response = await fetch(`${API_URL}/auth/login`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        username: 'designer_creative',
        password: 'design2024'
      })
    });
    
    const data = await response.json();
    
    if (response.ok && data.accessToken) {
      console.log('   ‚úÖ PASSED - Designer login successful');
      console.log(`   User: ${data.user.name} (${data.user.role})`);
      return data.accessToken;
    } else {
      console.log('   ‚ùå FAILED -', data.error);
      return null;
    }
  } catch (error) {
    console.log('   ‚ùå ERROR -', error.message);
    return null;
  }
}

// Test 2: Login with Business
async function testBusinessLogin() {
  console.log('\nTest 2: Business Login');
  try {
    const response = await fetch(`${API_URL}/auth/login`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        username: 'business_startup',
        password: 'startup2024'
      })
    });
    
    const data = await response.json();
    
    if (response.ok && data.accessToken) {
      console.log('   ‚úÖ PASSED - Business login successful');
      console.log(`   User: ${data.user.name} (${data.user.role})`);
      return data.accessToken;
    } else {
      console.log('   ‚ùå FAILED -', data.error);
      return null;
    }
  } catch (error) {
    console.log('   ‚ùå ERROR -', error.message);
    return null;
  }
}

// Test 3: Login with Admin
async function testAdminLogin() {
  console.log('\nTest 3: Admin Login');
  try {
    const response = await fetch(`${API_URL}/auth/login`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        username: 'admin_master',
        password: 'admin2024'
      })
    });
    
    const data = await response.json();
    
    if (response.ok && data.accessToken) {
      console.log('   ‚úÖ PASSED - Admin login successful');
      console.log(`   User: ${data.user.name} (${data.user.role})`);
      return data.accessToken;
    } else {
      console.log('   ‚ùå FAILED -', data.error);
      return null;
    }
  } catch (error) {
    console.log('   ‚ùå ERROR -', error.message);
    return null;
  }
}

// Test 4: Invalid credentials
async function testInvalidLogin() {
  console.log('\nTest 4: Invalid Credentials');
  try {
    const response = await fetch(`${API_URL}/auth/login`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        username: 'invalid_user',
        password: 'wrong_password'
      })
    });
    
    const data = await response.json();
    
    if (!response.ok && data.error) {
      console.log('   ‚úÖ PASSED - Correctly rejected invalid credentials');
      console.log(`   Error: ${data.error}`);
    } else {
      console.log('   ‚ùå FAILED - Should have rejected invalid credentials');
    }
  } catch (error) {
    console.log('   ‚ùå ERROR -', error.message);
  }
}

// Test 5: Get current user with token
async function testGetCurrentUser(token) {
  console.log('\nTest 5: Get Current User (with token)');
  try {
    const response = await fetch(`${API_URL}/auth/me`, {
      method: 'GET',
      headers: { 
        'Authorization': `Bearer ${token}`
      }
    });
    
    const data = await response.json();
    
    if (response.ok && data.user) {
      console.log('   ‚úÖ PASSED - Retrieved current user');
      console.log(`   User: ${data.user.name} (${data.user.username})`);
    } else {
      console.log('   ‚ùå FAILED -', data.error);
    }
  } catch (error) {
    console.log('   ‚ùå ERROR -', error.message);
  }
}

// Test 6: Get current user without token
async function testGetCurrentUserNoAuth() {
  console.log('\nTest 6: Get Current User (no token)');
  try {
    const response = await fetch(`${API_URL}/auth/me`, {
      method: 'GET'
    });
    
    const data = await response.json();
    
    if (!response.ok) {
      console.log('   ‚úÖ PASSED - Correctly rejected unauthenticated request');
      console.log(`   Error: ${data.error}`);
    } else {
      console.log('   ‚ùå FAILED - Should require authentication');
    }
  } catch (error) {
    console.log('   ‚ùå ERROR -', error.message);
  }
}

// Run all tests
async function runTests() {
  try {
    const designerToken = await testDesignerLogin();
    await testBusinessLogin();
    await testAdminLogin();
    await testInvalidLogin();
    
    if (designerToken) {
      await testGetCurrentUser(designerToken);
    }
    
    await testGetCurrentUserNoAuth();
    
    console.log('\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê');
    console.log('\n‚úÖ ALL TESTS COMPLETED\n');
    
  } catch (error) {
    console.log('\n‚ùå TEST SUITE ERROR:', error.message);
  }
}

// Wait a moment for server to be ready
setTimeout(runTests, 1000);
</file>

<file path="BackEnd/utils/placeholder.txt">
// placeholder
</file>

<file path="DOCUMENTATION_INDEX.md">
# üìñ ShockWave Documentation Index

Welcome to the ShockWave platform documentation! This index will help you find the information you need quickly.

---

## üìë Available Documentation

### 1. [README.md](./README.md) 
**Start Here** - Main project documentation
- üìå Project overview
- ‚öôÔ∏è Tech stack
- üöÄ Quick start guide
- üîë Default test accounts
- üé® Design system overview
- üó∫Ô∏è Route summary

**Best For**: Getting started, understanding project setup, first-time setup

---

### 2. [USER_FLOW.md](./USER_FLOW.md)
**Complete User Journey Guide** - Detailed flow documentation
- üéØ First-time visitor flows
- üé® Designer complete workflow
- üíº Business hiring process  
- üîê Admin panel operations
- üîÑ Common user actions
- üì± Real-world journey examples

**Best For**: Understanding user behavior, planning features, UX design, testing scenarios

**Contents Include**:
- Registration & login processes
- Designer: Setup profile, find work, manage projects
- Business: Browse designers, post projects, hire & pay
- Admin: User management, monitoring, dispute resolution
- Messaging system flows
- Payment & escrow processes

---

### 3. [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md)
**Visual Flow Diagrams** - ASCII art visualizations
- üèóÔ∏è System architecture
- üîê Authentication flows
- üó∫Ô∏è Page navigation maps
- üí∞ Payment & escrow system
- üîç Search & filter flows
- üì± Mobile navigation
- üîî Notification system
- üìä Data flow architecture

**Best For**: Visual learners, system design, architecture planning, presentations

**Diagrams Include**:
```
‚úì High-level platform architecture
‚úì User authentication flow
‚úì Designer complete journey
‚úì Business complete journey
‚úì Page navigation map
‚úì Messaging system flow
‚úì Project lifecycle
‚úì Payment & escrow flow
‚úì Search & filter flow
‚úì Responsive mobile navigation
‚úì User states & permissions matrix
‚úì Error handling flows
‚úì Notification triggers
‚úì Data flow architecture
```

---

### 4. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md)
**Developer Quick Reference** - Fast lookup guide
- üõ£Ô∏è All routes & components
- üë• User roles & permissions
- üé® Color palette reference
- üéØ Common UI patterns
- üîå API endpoints
- üì± Responsive breakpoints
- ‚úÖ Testing checklist
- üíª Development tips

**Best For**: Development work, quick lookups, code reference, debugging

**Quick Access To**:
- Route table with access levels
- User capabilities matrix
- Color hex codes & usage
- Button/card/input styles
- Auth context functions
- Feature status tracker
- Useful commands

---

## üéØ How to Use This Documentation

### I'm New to the Project
**Start Here**: 
1. Read [README.md](./README.md) for setup
2. Review [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) for routes
3. Check [USER_FLOW.md](./USER_FLOW.md) for user journeys

### I'm a Developer
**Start Here**:
1. [README.md](./README.md) - Setup & tech stack
2. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Routes, API, patterns
3. [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Architecture

### I'm a Designer/UX
**Start Here**:
1. [USER_FLOW.md](./USER_FLOW.md) - Complete user journeys
2. [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Visual flows
3. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Color palette & UI patterns

### I'm a Product Manager
**Start Here**:
1. [USER_FLOW.md](./USER_FLOW.md) - User stories & scenarios
2. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Feature status
3. [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - System overview

### I'm Testing the Platform
**Start Here**:
1. [README.md](./README.md) - Test accounts
2. [USER_FLOW.md](./USER_FLOW.md) - Complete journey examples
3. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Testing checklist

---

## üîç Find Information By Topic

### Authentication & Users
- **Setup & Login**: [README.md](./README.md) - Default accounts
- **Flow Details**: [USER_FLOW.md](./USER_FLOW.md) - Login/Register process
- **Visual Diagrams**: [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Auth flow
- **Developer Info**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Auth context

### User Roles & Permissions
- **Overview**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Role matrix
- **Designer Journey**: [USER_FLOW.md](./USER_FLOW.md) - Designer section
- **Business Journey**: [USER_FLOW.md](./USER_FLOW.md) - Business section
- **Visual Flow**: [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Complete journeys

### Navigation & Routes
- **Route List**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Routes table
- **Navigation Flow**: [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Nav map
- **Public vs Protected**: [README.md](./README.md) - Route summary

### Design & UI
- **Color Palette**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Colors reference
- **UI Patterns**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Common patterns
- **Design System**: [README.md](./README.md) - Design overview

### Features & Workflows
- **Browse Designers**: [USER_FLOW.md](./USER_FLOW.md) - Browse flow
- **Messaging**: [USER_FLOW.md](./USER_FLOW.md) - Messaging section
- **Payments**: [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Payment flow
- **Feature Status**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Status table

### Development
- **Setup Guide**: [README.md](./README.md) - Quick start
- **API Reference**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - API endpoints
- **Code Patterns**: [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - UI patterns
- **Architecture**: [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Data flow

---

## üìä Documentation Stats

| Document | Pages | Focus | Audience |
|----------|-------|-------|----------|
| README.md | 1 | Setup & Overview | Everyone |
| USER_FLOW.md | 10+ | User Journeys | UX/PM/QA |
| PLATFORM_FLOW_DIAGRAM.md | 8+ | Visual Diagrams | Devs/Designers |
| QUICK_REFERENCE.md | 6+ | Quick Lookup | Developers |

**Total Documentation**: 25+ pages of comprehensive guides

---

## üé® Visual Legend

Throughout the documentation, you'll see these symbols:

- ‚úÖ **Active/Working** - Feature is live and functional
- üöß **In Progress** - Currently being developed
- üìã **Planned** - On the roadmap
- ‚ùå **Not Allowed** - Permission denied
- üîí **Secure** - Security feature
- üí¨ **Communication** - Messaging/chat feature
- ‚≠ê **Rating** - Review system
- üí∞ **Payment** - Financial transaction
- üì± **Mobile** - Mobile-specific feature
- üéØ **Goal** - End objective

---

## üîÑ Documentation Updates

**Current Version**: 1.0.0  
**Last Updated**: November 3, 2025  
**Status**: Complete & Current

### Recent Updates
- ‚úÖ Complete user flow documentation
- ‚úÖ Visual flow diagrams added
- ‚úÖ Quick reference guide created
- ‚úÖ Color scheme updated to Charcoal/LightGray/Mint
- ‚úÖ Full-screen page layouts implemented

### Planned Updates
- üìã API documentation (when backend is finalized)
- üìã Component library documentation
- üìã Testing strategy guide
- üìã Deployment guide
- üìã Performance optimization guide

---

## üí° Tips for Using This Documentation

1. **Bookmark This Index** - Come back when you need to find something
2. **Use Ctrl+F** - Search within documents for specific terms
3. **Follow Links** - Each document cross-references others
4. **Check Version Dates** - Ensure you're reading current info
5. **Contribute Updates** - Keep docs current as features evolve

---

## ü§ù Contributing to Documentation

Found something unclear or outdated?

1. Check the document date at the bottom
2. Verify current codebase matches documentation
3. Update the relevant `.md` file
4. Update the "Last Updated" date
5. Note changes in this index

---

## üìû Need Help?

If you can't find what you're looking for:

1. **Search all docs** - Use your editor's search across files
2. **Check code comments** - Look at component files
3. **Review test files** - See implementation examples
4. **Ask the team** - Someone may know the answer
5. **Update docs** - Add what you learned for others

---

## üéì Learning Path

### Week 1: Basics
1. Read [README.md](./README.md)
2. Set up the project
3. Explore the UI
4. Test with default accounts

### Week 2: User Flows
1. Read [USER_FLOW.md](./USER_FLOW.md)
2. Follow designer journey
3. Follow business journey
4. Test all flows

### Week 3: Development
1. Read [QUICK_REFERENCE.md](./QUICK_REFERENCE.md)
2. Study code patterns
3. Review [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md)
4. Build a feature

### Week 4: Mastery
1. Review all documentation
2. Update outdated sections
3. Add new features
4. Share knowledge

---

## üåü Documentation Highlights

### Most Useful Sections

**For Quick Answers**:
- [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Page-by-page breakdown
- [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Color palette
- [README.md](./README.md) - Test accounts

**For Understanding Flow**:
- [USER_FLOW.md](./USER_FLOW.md) - Complete user journey examples
- [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Project lifecycle
- [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Payment flow

**For Development**:
- [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - API endpoints
- [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - UI patterns
- [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Data architecture

---

## üì± Mobile Optimization

All documentation is optimized for reading on:
- Desktop screens (recommended)
- Tablets (readable)
- Mobile phones (scroll-friendly)

Use markdown viewers for best experience!

---

## üîó External Resources

While our docs are comprehensive, you might also find these helpful:
- **React Docs**: https://react.dev
- **Tailwind CSS**: https://tailwindcss.com
- **Framer Motion**: https://www.framer.com/motion
- **Vite**: https://vitejs.dev

---

**Happy Building!** üåäüöÄ

*ShockWave - Connect. Create. Collaborate.*

---

**Document Info**:
- **File**: DOCUMENTATION_INDEX.md
- **Purpose**: Central navigation for all documentation
- **Audience**: All team members
- **Version**: 1.0.0
- **Last Updated**: November 3, 2025
</file>

<file path="ERROR_CHECK_REPORT.md">
# ‚úÖ SHOCKWAVE - ERROR CHECK RESULTS

## Date: October 28, 2025

---

## üîç CODE ERRORS CHECK

### Backend Files:
- ‚úÖ `server/config/database.js` - No errors
- ‚úÖ `server/routes/auth.js` - No errors  
- ‚úÖ `server/middleware/auth.js` - No errors
- ‚úÖ `server/scripts/init.js` - No errors
- ‚úÖ `server/package.json` - No errors

### Frontend Files:
- ‚úÖ `src/pages/Login.jsx` - No errors
- ‚úÖ `src/pages/Register.jsx` - No errors
- ‚úÖ `src/context/AuthContext.jsx` - No errors
- ‚úÖ `src/services/api.js` - No errors

---

## üóÑÔ∏è DATABASE VERIFICATION

‚úÖ **Database Created Successfully**
- Location: `server/database.sqlite`
- Schema: Updated with `username` field (no email)

‚úÖ **Test Accounts Created**:
```
üë®‚Äçüé® DESIGNER
   ID: 1
   Username: designer_creative
   Password: design2024
   Name: Creative Designer
   Status: Active

üíº BUSINESS
   ID: 2
   Username: business_startup
   Password: startup2024
   Name: Tech Startup Co
   Status: Active

üîê ADMIN
   ID: 3
   Username: admin_master
   Password: admin2024
   Name: System Administrator
   Status: Active
```

---

## üöÄ SERVER STATUS

‚úÖ **Backend Server**: Running successfully
- Port: 5000
- Environment: development
- Started with: `npm run dev` (nodemon)
- Status: No startup errors

---

## üìã CHANGES SUMMARY

### What Was Changed:

1. **Authentication System**
   - ‚úÖ Changed from email-based to username-based login
   - ‚úÖ Simplified for testing (removed email verification)

2. **Database Schema**
   - ‚úÖ Removed `email` field
   - ‚úÖ Added `username` field (UNIQUE)
   - ‚úÖ Removed `email_verified` field

3. **Test Accounts**
   - ‚úÖ All previous users cleared
   - ‚úÖ 3 new test accounts created
   - ‚úÖ Clear, memorable usernames and passwords

4. **Login UI**
   - ‚úÖ Modern card-based design
   - ‚úÖ Test credentials displayed on login page
   - ‚úÖ Click-to-fill functionality added
   - ‚úÖ Visual role indicators

5. **Scripts**
   - ‚úÖ Added `npm run db:init` command
   - ‚úÖ Database initialization script updated

---

## ‚úÖ EVERYTHING IS READY FOR TESTING

### To Start Testing:

1. **Backend** (already running):
   ```bash
   cd server
   npm run dev
   ```

2. **Frontend** (start in new terminal):
   ```bash
   npm run dev
   ```

3. **Login**:
   - Go to http://localhost:5173/login
   - Click any test account card
   - Credentials auto-fill
   - Click "Sign In"

---

## üéØ NO ERRORS FOUND

All files compile successfully with no syntax or runtime errors. The authentication system is fully functional and ready for testing.

### Files Verified:
- ‚úÖ 8 JavaScript files (no errors)
- ‚úÖ 2 JSX files (no errors)
- ‚úÖ 1 Database schema (valid)
- ‚úÖ 1 Package.json (valid)
- ‚úÖ Server starts successfully
- ‚úÖ Database initialized correctly
- ‚úÖ Test accounts created

---

## üìù NOTES

- Server is running on port 5000 ‚úÖ
- Database has exactly 3 users ‚úÖ
- All passwords are hashed with bcrypt ‚úÖ
- JWT tokens configured ‚úÖ
- CORS enabled for localhost:5173 ‚úÖ
- Test credentials visible on login page ‚úÖ

**Status: READY FOR PRODUCTION TESTING** üöÄ
</file>

<file path="eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs['recommended-latest'],
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="FrontEnd/App.jsx">
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { AuthProvider } from './context/AuthContext';
import Navbar from './components/Navbar';
import Footer from './components/Footer';
import Home from './pages/Home';
import Login from './pages/Login';
import Register from './pages/Register';
import Browse from './pages/Browse';
import Profile from './pages/Profile';
import ProfileEdit from './pages/ProfileEdit.jsx';
import Dashboard from './pages/Dashboard';
import Messages from './pages/Messages';
import Listings from './pages/Listings.jsx'; // Import Listings page
import CreateListing from './pages/CreateListing.jsx'; // Import Create Listing page
import ListingDetail from './pages/ListingDetail';
import Checkout from './pages/Checkout';
import AdminPanel from './pages/AdminPanel';
import PrivateRoute from './components/PrivateRoute'; 
import { motion } from 'framer-motion';
import './styles/App.css';

function App() {
  return (
    <AuthProvider>
      <Router>
        <div className="min-h-screen bg-lightgray-light flex flex-col">
          <Navbar />
          
          <motion.main 
            className="flex-grow"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ duration: 0.3 }}
          >
            <Routes>
              {/* Public Routes */}
              <Route path="/" element={<Home />} />
              <Route path="/login" element={<Login />} />
              <Route path="/register" element={<Register />} />
              <Route path="/browse" element={<Browse />} />
              <Route path="/designer/:id" element={<Profile />} />
              <Route path="/listings" element={<Listings />} /> {/* Add Listings page route */}
              <Route path="/listing/:id" element={<ListingDetail />} />

              {/* Protected Routes */}
              <Route path="/dashboard" element={<PrivateRoute><Dashboard /></PrivateRoute>} />
              <Route path="/messages" element={<PrivateRoute><Messages /></PrivateRoute>} />
              <Route path="/profile/edit" element={<PrivateRoute><ProfileEdit /></PrivateRoute>} />
              <Route path="/checkout/:orderId" element={<PrivateRoute><Checkout /></PrivateRoute>} />
              <Route path="/listings/new" element={<PrivateRoute roles={['business']}><CreateListing /></PrivateRoute>} /> {/* Add Create Listing route */}
              
              {/* Admin Route */}
              <Route path="/admin" element={
                <PrivateRoute roles={['admin']}><AdminPanel /></PrivateRoute>
              } />
            </Routes>
          </motion.main>
          
          <Footer />
        </div>
      </Router>
    </AuthProvider>
  );
}

export default App;
</file>

<file path="FrontEnd/components/Footer.jsx">
import { Link } from 'react-router-dom';

const Footer = () => {
  return (
    <footer className="bg-charcoal text-white mt-auto">
      <div className="max-w-7xl mx-auto py-8 sm:py-10 md:py-12 px-4 sm:px-6 lg:px-8">
        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
          <div className="col-span-1 sm:col-span-2 lg:col-span-2">
            <h3 className="text-lg sm:text-xl font-semibold mb-3 sm:mb-4 text-mint">ShockWave</h3>
            <p className="text-sm sm:text-base text-lightgray mb-4 max-w-md">
              Connecting talented graphic designers with businesses worldwide. 
              Create, collaborate, and grow your design career.
            </p>
            <div className="flex space-x-4 mt-4">
              <a href="#" className="text-lightgray-dark hover:text-mint transition-colors" aria-label="Facebook">
                <svg className="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
              </a>
              <a href="#" className="text-lightgray-dark hover:text-mint transition-colors" aria-label="Twitter">
                <svg className="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                </svg>
              </a>
              <a href="#" className="text-lightgray-dark hover:text-mint transition-colors" aria-label="LinkedIn">
                <svg className="w-5 h-5 sm:w-6 sm:h-6" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
              </a>
            </div>
          </div>
          
          <div>
            <h4 className="text-sm sm:text-base font-semibold mb-3 sm:mb-4 text-white">For Designers</h4>
            <ul className="space-y-2 text-xs sm:text-sm text-lightgray">
              <li>
                <Link to="/browse" className="hover:text-mint transition-colors inline-block">
                  Find Work
                </Link>
              </li>
              <li>
                <Link to="/dashboard" className="hover:text-mint transition-colors inline-block">
                  Build Portfolio
                </Link>
              </li>
              <li>
                <a href="#" className="hover:text-mint transition-colors inline-block">
                  Success Stories
                </a>
              </li>
              <li>
                <a href="#" className="hover:text-mint transition-colors inline-block">
                  Resources
                </a>
              </li>
            </ul>
          </div>
          
          <div>
            <h4 className="text-sm sm:text-base font-semibold mb-3 sm:mb-4 text-white">For Businesses</h4>
            <ul className="space-y-2 text-xs sm:text-sm text-lightgray">
              <li>
                <a href="#" className="hover:text-mint transition-colors inline-block">
                  Post a Job
                </a>
              </li>
              <li>
                <Link to="/browse" className="hover:text-mint transition-colors inline-block">
                  Browse Designers
                </Link>
              </li>
              <li>
                <a href="#" className="hover:text-mint transition-colors inline-block">
                  Enterprise
                </a>
              </li>
              <li>
                <a href="#" className="hover:text-mint transition-colors inline-block">
                  Pricing
                </a>
              </li>
            </ul>
          </div>
        </div>
        
        <div className="mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-charcoal-light">
          <div className="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
            <p className="text-xs sm:text-sm text-lightgray-dark text-center sm:text-left">
              &copy; 2025 ShockWave. All rights reserved.
            </p>
            <div className="flex flex-wrap justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-lightgray-dark">
              <a href="#" className="hover:text-mint transition-colors">Privacy Policy</a>
              <a href="#" className="hover:text-mint transition-colors">Terms of Service</a>
              <a href="#" className="hover:text-mint transition-colors">Contact</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
</file>

<file path="FrontEnd/components/PrivateRoute.jsx">
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';

const PrivateRoute = ({ children, roles }) => {
  const { isAuthenticated, user, loading } = useAuth();
  const location = useLocation();

  if (loading) {
    // You can add a loading spinner here
    return <div>Loading...</div>;
  }

  if (!isAuthenticated) {
    // Redirect them to the /login page, but save the current location they were
    // trying to go to. This allows us to send them along to that page after they login.
    return <Navigate to="/login" state={{ from: location }} replace />;
  }

  if (roles && !roles.includes(user.role)) {
    // Redirect them to a "not authorized" page or the home page
    return <Navigate to="/" replace />;
  }

  return children;
};

export default PrivateRoute;
</file>

<file path="FrontEnd/components/ReviewForm.jsx">
import { useState } from 'react';
import { reviewAPI } from '../services/api';

const StarInput = ({ rating, setRating }) => {
  return (
    <div className="flex">
      {[...Array(5)].map((_, index) => {
        const starValue = index + 1;
        return (
          <span
            key={starValue}
            className={`cursor-pointer text-3xl ${starValue <= rating ? 'text-yellow-400' : 'text-gray-300'}`}
            onClick={() => setRating(starValue)}
            onMouseOver={() => setRating(starValue)}
          >
            ‚òÖ
          </span>
        );
      })}
    </div>
  );
};

const ReviewForm = ({ orderId, revieweeId, onReviewSubmitted }) => {
  const [rating, setRating] = useState(0);
  const [comment, setComment] = useState('');
  const [error, setError] = useState('');
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleSubmit = async (e) => {
    e.preventDefault();
    if (rating === 0) {
      setError('Please select a star rating.');
      return;
    }
    setError('');
    setIsSubmitting(true);
    try {
      await reviewAPI.createReview({
        order_id: orderId,
        reviewee_id: revieweeId,
        rating: rating,
        comment: comment,
      });
      // Notify parent component that the review was submitted
      onReviewSubmitted();
    } catch (err) {
      setError(err.response?.data?.error || 'Failed to submit review.');
    } finally {
      setIsSubmitting(false);
    }
  };

  return (
    <div className="bg-white rounded-lg shadow-lg p-8 mt-8">
      <h2 className="text-2xl font-semibold text-charcoal mb-4">Leave a Review</h2>
      <form onSubmit={handleSubmit} className="space-y-4">
        {error && <div className="text-red-500 bg-red-100 p-3 rounded-md">{error}</div>}
        <div>
          <label className="block text-sm font-medium text-charcoal mb-2">Your Rating</label>
          <StarInput rating={rating} setRating={setRating} />
        </div>
        <div>
          <label htmlFor="comment" className="block text-sm font-medium text-charcoal mb-2">Your Comments</label>
          <textarea
            id="comment"
            value={comment}
            onChange={(e) => setComment(e.target.value)}
            rows="4"
            className="w-full p-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint"
            placeholder="Share your experience with this user..."
          ></textarea>
        </div>
        <div className="text-right">
          <button
            type="submit"
            disabled={isSubmitting}
            className="bg-mint text-white px-6 py-2 rounded-md hover:bg-mint-dark transition-colors disabled:opacity-50"
          >
            {isSubmitting ? 'Submitting...' : 'Submit Review'}
          </button>
        </div>
      </form>
    </div>
  );
};

export default ReviewForm;
</file>

<file path="FrontEnd/context/AuthContext.jsx">
import { createContext, useContext, useReducer, useEffect } from 'react';
import { authAPI } from '../services/api';

const AuthContext = createContext();

const authReducer = (state, action) => {
  switch (action.type) {
    case 'LOGIN_START':
      return { ...state, loading: true, error: null };
    case 'LOGIN_SUCCESS':
      return { 
        ...state, 
        loading: false, 
        user: action.payload.user, 
        isAuthenticated: true,
        error: null 
      };
    case 'LOGIN_FAILURE':
      return { 
        ...state, 
        loading: false, 
        error: action.payload, 
        isAuthenticated: false,
        user: null 
      };
    case 'LOGOUT':
      return { 
        ...state, 
        user: null, 
        isAuthenticated: false, 
        loading: false,
        error: null 
      };
    case 'SET_USER':
      return {
        ...state,
        user: action.payload,
        isAuthenticated: true,
        loading: false
      };
    case 'SET_LOADING':
      return { ...state, loading: action.payload };
    default:
      return state;
  }
};

const initialState = {
  user: null,
  isAuthenticated: false,
  loading: true,
  error: null
};

export const AuthProvider = ({ children }) => {
  const [state, dispatch] = useReducer(authReducer, initialState);

  // Check if user is logged in on app start
  useEffect(() => {
    const checkAuth = async () => {
      try {
        const token = localStorage.getItem('accessToken');
        if (token) {
          const response = await authAPI.getCurrentUser();
          dispatch({ type: 'SET_USER', payload: response.data.user });
        } else {
          dispatch({ type: 'SET_LOADING', payload: false });
        }
      } catch (error) {
        localStorage.removeItem('accessToken');
        dispatch({ type: 'SET_LOADING', payload: false });
      }
    };

    checkAuth();
  }, []);

  const login = async (username, password) => {
    dispatch({ type: 'LOGIN_START' });
    try {
      const response = await authAPI.login(username, password);
      localStorage.setItem('accessToken', response.data.accessToken);
      dispatch({ type: 'LOGIN_SUCCESS', payload: response.data });
      return response.data;
    } catch (error) {
      const errorMessage = error.response?.data?.error || 'Login failed';
      dispatch({ type: 'LOGIN_FAILURE', payload: errorMessage });
      throw error;
    }
  };

  const register = async (userData) => {
    dispatch({ type: 'LOGIN_START' });
    try {
      const response = await authAPI.register(userData);
      localStorage.setItem('accessToken', response.data.accessToken);
      dispatch({ type: 'LOGIN_SUCCESS', payload: response.data });
      return response.data;
    } catch (error) {
      const errorMessage = error.response?.data?.error || 'Registration failed';
      dispatch({ type: 'LOGIN_FAILURE', payload: errorMessage });
      throw error;
    }
  };

  const logout = async () => {
    try {
      await authAPI.logout();
    } catch (error) {
      console.error('Logout error:', error);
    } finally {
      localStorage.removeItem('accessToken');
      dispatch({ type: 'LOGOUT' });
    }
  };

  const value = {
    ...state,
    login,
    register,
    logout
  };

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};
</file>

<file path="FrontEnd/main.jsx">
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
// Correct the path to the CSS file
import './styles/index.css' 
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
</file>

<file path="FrontEnd/pages/AdminPanel.jsx">
import { useAuth } from '../context/AuthContext';

const AdminPanel = () => {
  const { user } = useAuth();

  if (!user || user.role !== 'admin') {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="text-center">
          <h2 className="text-2xl font-bold text-gray-900 mb-4">Access Denied</h2>
          <p className="text-gray-600">You don't have permission to access this page.</p>
        </div>
      </div>
    );
  }

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="bg-white rounded-lg shadow-lg p-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-4">Admin Panel</h1>
        <p className="text-gray-600">Admin tools and analytics will be implemented here.</p>
      </div>
    </div>
  );
};

export default AdminPanel;
</file>

<file path="FrontEnd/pages/Browse.jsx">
import { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import { motion } from 'framer-motion';
import { profileAPI } from '../services/api';

// A small, reusable component to display the star rating on the card
const MiniStarRating = ({ rating, reviewCount }) => {
  if (!rating) return <div className="h-5"></div>; // Keep height consistent
  return (
    <div className="flex items-center mt-1">
      <span className="text-yellow-400">‚òÖ</span>
      <span className="ml-1 text-sm font-semibold text-charcoal">
        {parseFloat(rating).toFixed(1)}
      </span>
      <span className="ml-2 text-sm text-charcoal-light">({reviewCount} reviews)</span>
    </div>
  );
};

const Browse = () => {
  const [profiles, setProfiles] = useState([]);
  const [loading, setLoading] = useState(true);
  const [filters, setFilters] = useState({
    search: '',
    skill: '',
    location: '',
    min_rate: '',
    max_rate: ''
  });

  useEffect(() => {
    // This function will be called whenever the filters change.
    // A debounce could be added here in a real application to prevent excessive API calls.
    fetchProfiles();
  }, [filters]);

  const fetchProfiles = async () => {
    try {
      setLoading(true);
      const response = await profileAPI.searchProfiles(filters);
      setProfiles(response.data.profiles);
    } catch (error) {
      console.error('Failed to fetch profiles:', error);
    } finally {
      setLoading(false);
    }
  };

  const handleFilterChange = (e) => {
    setFilters({
      ...filters,
      [e.target.name]: e.target.value
    });
  };

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-lightgray-light">
        <div className="animate-spin rounded-full h-32 w-32 border-b-4 border-mint"></div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-lightgray-light">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div className="mb-8">
          <h1 className="text-3xl font-bold text-charcoal mb-2">Browse Designers</h1>
          <p className="text-charcoal-light text-lg">Find the perfect creative partner for your next project.</p>
        </div>

        {/* Filters */}
        <div className="bg-white p-6 rounded-lg shadow-md mb-8 border-2 border-mint/20">
          <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4">
            <input
              type="text"
              name="search"
              placeholder="Search by name, skill..."
              className="px-4 py-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint"
              value={filters.search}
              onChange={handleFilterChange}
            />
            <input
              type="text"
              name="skill"
              placeholder="Skill (e.g., logo design)"
              className="px-4 py-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint"
              value={filters.skill}
              onChange={handleFilterChange}
            />
            <input
              type="text"
              name="location"
              placeholder="Location"
              className="px-4 py-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint"
              value={filters.location}
              onChange={handleFilterChange}
            />
            <input
              type="number"
              name="min_rate"
              placeholder="Min rate ($)"
              className="px-4 py-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint"
              value={filters.min_rate}
              onChange={handleFilterChange}
            />
            <input
              type="number"
              name="max_rate"
              placeholder="Max rate ($)"
              className="px-4 py-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint"
              value={filters.max_rate}
              onChange={handleFilterChange}
            />
          </div>
        </div>

        {/* Results */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {profiles.length === 0 ? (
            <div className="col-span-full text-center py-16 bg-white rounded-lg shadow-md">
              <p className="text-charcoal-light text-lg">No designers found matching your criteria.</p>
            </div>
          ) : (
            profiles.map((profile, index) => (
              <motion.div
                key={profile.user_id}
                className="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow border-2 border-transparent hover:border-mint flex flex-col"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: index * 0.05 }}
                whileHover={{ scale: 1.02 }}
              >
                <div className="p-6 flex-grow">
                  <div className="flex items-center mb-4">
                    <img 
                      src={profile.avatar_url ? `${import.meta.env.VITE_API_URL || 'http://localhost:5000'}${profile.avatar_url}` : `https://ui-avatars.com/api/?name=${profile.name.replace(' ', '+')}&background=DFE6E9&color=2D3436`}
                      alt={profile.name}
                      className="w-16 h-16 rounded-full object-cover border-2 border-lightgray"
                    />
                    <div className="ml-4">
                      <h3 className="text-lg font-semibold text-charcoal">{profile.name}</h3>
                      <p className="text-charcoal-light text-sm">{profile.location || 'Location not specified'}</p>
                    </div>
                  </div>
                  
                  <p className="text-charcoal mb-4 line-clamp-3 h-20">
                    {profile.bio || 'No bio available. Click to view the full profile for more details.'}
                  </p>
                  
                  <div className="flex flex-wrap gap-2 mb-4 h-10">
                    {profile.skills.slice(0, 3).map((skill, idx) => (
                      <span
                        key={idx}
                        className="px-3 py-1 bg-mint/10 text-mint text-xs font-semibold rounded-full"
                      >
                        {skill}
                      </span>
                    ))}
                    {profile.skills.length > 3 && (
                      <span className="px-3 py-1 bg-lightgray text-charcoal-light text-xs font-semibold rounded-full">
                        +{profile.skills.length - 3} more
                      </span>
                    )}
                  </div>
                </div>
                
                <div className="bg-lightgray-light p-4 flex justify-between items-center">
                  <div>
                    {profile.hourly_rate && (
                      <p className="text-lg font-bold text-mint">${profile.hourly_rate}/hr</p>
                    )}
                    <MiniStarRating rating={profile.avg_rating} reviewCount={profile.review_count} />
                  </div>
                  <Link to={`/designer/${profile.user_id}`} className="bg-charcoal text-white px-4 py-2 rounded-md hover:bg-charcoal-light transition-colors text-sm font-semibold">
                    View Profile
                  </Link>
                </div>
              </motion.div>
            ))
          )}
        </div>
      </div>
    </div>
  );
};

export default Browse;
</file>

<file path="FrontEnd/pages/Checkout.jsx">
const Checkout = () => {
  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div className="bg-white rounded-lg shadow-lg p-8">
        <h1 className="text-3xl font-bold text-gray-900 mb-4">Checkout</h1>
        <p className="text-gray-600">Payment processing will be implemented here.</p>
      </div>
    </div>
  );
};

export default Checkout;
</file>

<file path="FrontEnd/pages/CreateListing.jsx">
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { motion } from 'framer-motion';
import { listingAPI } from '../services/api';

const CreateListing = () => {
  const navigate = useNavigate();
  const [formData, setFormData] = useState({
    title: '',
    description: '',
    budget_min: '',
    budget_max: '',
  });
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);

  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setIsLoading(true);
    setError(null);
    try {
      await listingAPI.createListing(formData);
      navigate('/listings');
    } catch (err) {
      const errorMessage = err.response?.data?.errors?.[0]?.msg || err.response?.data?.error || 'Failed to create listing.';
      setError(errorMessage);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-lightgray-light py-12 px-4 sm:px-6 lg:px-8">
      <motion.div
        className="max-w-3xl mx-auto"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        <div className="bg-white rounded-2xl shadow-xl p-8 border-2 border-mint/20">
          <h1 className="text-3xl font-bold text-charcoal mb-6">Post a New Project</h1>
          <form onSubmit={handleSubmit} className="space-y-6">
            {error && <div className="text-red-500 bg-red-100 p-3 rounded-md">{error}</div>}
            
            <div>
              <label htmlFor="title" className="block text-sm font-medium text-charcoal mb-2">Project Title</label>
              <input id="title" name="title" type="text" required value={formData.title} onChange={handleChange} className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="e.g., Logo for a new coffee shop" />
            </div>
            
            <div>
              <label htmlFor="description" className="block text-sm font-medium text-charcoal mb-2">Project Description</label>
              <textarea id="description" name="description" rows="5" required value={formData.description} onChange={handleChange} className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="Describe the project requirements in detail..."></textarea>
            </div>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label htmlFor="budget_min" className="block text-sm font-medium text-charcoal mb-2">Minimum Budget ($)</label>
                <input id="budget_min" name="budget_min" type="number" required value={formData.budget_min} onChange={handleChange} className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="e.g., 500" />
              </div>
              <div>
                <label htmlFor="budget_max" className="block text-sm font-medium text-charcoal mb-2">Maximum Budget ($)</label>
                <input id="budget_max" name="budget_max" type="number" required value={formData.budget_max} onChange={handleChange} className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="e.g., 1500" />
              </div>
            </div>

            <div className="flex justify-end gap-4 pt-4">
              <button type="button" onClick={() => navigate('/dashboard')} className="px-6 py-2 rounded-lg text-charcoal bg-lightgray hover:bg-lightgray-dark">Cancel</button>
              <button type="submit" disabled={isLoading} className="px-6 py-2 rounded-lg text-white bg-mint hover:bg-mint-dark disabled:opacity-50">{isLoading ? 'Submitting...' : 'Post Project'}</button>
            </div>
          </form>
        </div>
      </motion.div>
    </div>
  );
};

export default CreateListing;
</file>

<file path="FrontEnd/pages/Dashboard.jsx">
import { useAuth } from '../context/AuthContext';
import { motion } from 'framer-motion';
import { Link } from 'react-router-dom';
import { useState, useEffect } from 'react';
import { dashboardAPI } from '../services/api';

const Dashboard = () => {
  const { user, loading: authLoading } = useAuth();
  const [stats, setStats] = useState({
    projects: 0,
    earnings: 0,
    messages: 0,
    reviews: 0
  });
  const [statsLoading, setStatsLoading] = useState(true);

  useEffect(() => {
    // This function will fetch the real stats from the backend
    const fetchStats = async () => {
      if (!user) return;
      try {
        setStatsLoading(true);
        const response = await dashboardAPI.getStats();
        setStats(response.data);
      } catch (error) {
        console.error("Failed to fetch dashboard stats", error);
      } finally {
        setStatsLoading(false);
      }
    };

    // We only fetch stats once the user object is available
    if (!authLoading) {
      fetchStats();
    }
  }, [user, authLoading]);
  
  // Display a loading spinner while user auth or stats are being fetched
  if (authLoading || statsLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-lightgray-light">
        <div className="animate-spin rounded-full h-32 w-32 border-b-4 border-mint"></div>
      </div>
    );
  }

  // Handle case where user is not logged in (e.g., token expired)
  if (!user) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-lightgray-light">
        <div className="text-center">
          <h2 className="text-2xl font-bold text-charcoal mb-4">Please log in to access your dashboard.</h2>
          <Link to="/login" className="text-mint hover:underline">Go to Login</Link>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-lightgray-light">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.5 }}
        >
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-charcoal mb-2">
              Welcome, {user.name}!
            </h1>
            <p className="text-charcoal-light">
              {user.role === 'designer' ? 'Manage your gigs and find new projects' : 'Post projects and find talented designers'}
            </p>
          </div>

          {/* Quick Stats */}
          <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
            <div className="bg-white p-6 rounded-lg shadow-md border-l-4 border-mint">
              <h3 className="text-lg font-semibold text-charcoal mb-2">Active Projects</h3>
              <p className="text-3xl font-bold text-mint">{stats.projects}</p>
            </div>
            <div className="bg-white p-6 rounded-lg shadow-md border-l-4 border-mint">
              <h3 className="text-lg font-semibold text-charcoal mb-2">{user.role === 'designer' ? 'Total Earnings' : 'Total Spent'}</h3>
              <p className="text-3xl font-bold text-mint">${stats.earnings.toFixed(2)}</p>
            </div>
            <div className="bg-white p-6 rounded-lg shadow-md border-l-4 border-mint">
              <h3 className="text-lg font-semibold text-charcoal mb-2">Unread Messages</h3>
              <p className="text-3xl font-bold text-mint">{stats.messages}</p>
            </div>
            <div className="bg-white p-6 rounded-lg shadow-md border-l-4 border-mint">
              <h3 className="text-lg font-semibold text-charcoal mb-2">Reviews Received</h3>
              <p className="text-3xl font-bold text-mint">{stats.reviews}</p>
            </div>
          </div>

          {/* Role-specific content */}
          {user.role === 'designer' ? (
            <DesignerDashboard />
          ) : (
            <BusinessDashboard />
          )}
        </motion.div>
      </div>
    </div>
  );
};

const DesignerDashboard = () => {
  return (
    <div className="space-y-8">
      <div className="bg-white p-6 rounded-lg shadow-md border-2 border-mint/20">
        <h2 className="text-xl font-semibold text-charcoal mb-4">Quick Actions</h2>
        <div className="flex flex-wrap gap-4">
          <button className="bg-mint text-white px-6 py-3 rounded-md hover:bg-mint-dark">Create New Gig</button>
          <Link to="/listings" className="bg-charcoal text-white px-6 py-3 rounded-md hover:bg-charcoal-light">
            Browse Projects
          </Link>
          <Link to="/profile/edit" className="bg-mint-light text-charcoal px-6 py-3 rounded-md hover:bg-mint">Update Profile</Link>
        </div>
      </div>
      <div className="bg-white p-6 rounded-lg shadow-md border-2 border-mint/20">
        <h2 className="text-xl font-semibold text-charcoal mb-4">Recent Activity</h2>
        <p className="text-charcoal-light">No recent activity to show.</p>
      </div>
    </div>
  );
};

const BusinessDashboard = () => {
  return (
    <div className="space-y-8">
      <div className="bg-white p-6 rounded-lg shadow-md border-2 border-mint/20">
        <h2 className="text-xl font-semibold text-charcoal mb-4">Quick Actions</h2>
        <div className="flex flex-wrap gap-4">
          <Link to="/listings/new" className="bg-mint text-white px-6 py-3 rounded-md hover:bg-mint-dark">
            Post New Project
          </Link>
          <Link to="/browse" className="bg-charcoal text-white px-6 py-3 rounded-md hover:bg-charcoal-light">
            Browse Designers
          </Link>
          <Link to="/profile/edit" className="bg-mint-light text-charcoal px-6 py-3 rounded-md hover:bg-mint">Update Profile</Link>
        </div>
      </div>
      <div className="bg-white p-6 rounded-lg shadow-md border-2 border-mint/20">
        <h2 className="text-xl font-semibold text-charcoal mb-4">Recent Projects</h2>
        <p className="text-charcoal-light">No projects posted yet.</p>
      </div>
    </div>
  );
};

export default Dashboard;
</file>

<file path="FrontEnd/pages/Home.jsx">
import { Link } from 'react-router-dom';
import { motion } from 'framer-motion';

const Home = () => {
  return (
    <div className="min-h-screen bg-lightgray-light">
      {/* Hero Section */}
      <motion.section 
        className="bg-gradient-to-br from-charcoal via-charcoal-light to-charcoal-dark text-white min-h-screen flex items-center justify-center"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.8 }}
      >
        {/* Hero Content */}
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center py-12 sm:py-16">
          {/* Hero Content */}
          <motion.h1 
            className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 sm:mb-8 leading-tight"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8, delay: 0.2 }}
          >
            Connect. Create. Collaborate.
          </motion.h1>
          <motion.p 
            className="text-lg sm:text-xl md:text-2xl lg:text-3xl mb-8 sm:mb-10 text-lightgray max-w-3xl mx-auto px-4"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8, delay: 0.4 }}
          >
            The marketplace where graphic designers and businesses thrive together
          </motion.p>
          <motion.div 
            className="flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center px-4"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ duration: 0.8, delay: 0.6 }}
          >
            <Link 
              to="/login" 
              className="w-full sm:w-auto bg-mint text-charcoal px-8 sm:px-10 py-4 rounded-lg text-base sm:text-lg font-semibold hover:bg-mint-light transition-all shadow-lg hover:shadow-xl transform hover:scale-105"
            >
              Get Started
            </Link>
            <Link 
              to="/browse" 
              className="w-full sm:w-auto border-2 border-mint text-mint px-8 sm:px-10 py-4 rounded-lg text-base sm:text-lg font-semibold hover:bg-mint hover:text-charcoal transition-all"
            >
              Browse Designers
            </Link>
          </motion.div>
        </div>
      </motion.section>

      {/* Features Section */}
      <section className="py-16 sm:py-20 md:py-24 bg-white min-h-screen flex items-center">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
          <div className="text-center mb-16 sm:mb-20">
            <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold text-charcoal mb-4 sm:mb-6">
              Why Choose ShockWave?
            </h2>
            <p className="text-lg sm:text-xl md:text-2xl text-charcoal-light px-4">
              Everything you need to succeed in the design marketplace
            </p>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 sm:gap-10">
            <motion.div 
              className="text-center p-6 sm:p-8 rounded-lg hover:bg-lightgray-light transition-colors border-2 border-transparent hover:border-mint"
              whileHover={{ scale: 1.05 }}
              transition={{ duration: 0.2 }}
            >
              <div className="bg-mint/10 w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6">
                <svg className="w-8 h-8 sm:w-10 sm:h-10 text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
              </div>
              <h3 className="text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-charcoal">Easy Discovery</h3>
              <p className="text-base sm:text-lg text-charcoal-light">
                Find the perfect designer or project with our advanced search and filtering system
              </p>
            </motion.div>

            <motion.div 
              className="text-center p-6 sm:p-8 rounded-lg hover:bg-lightgray-light transition-colors border-2 border-transparent hover:border-mint"
              whileHover={{ scale: 1.05 }}
              transition={{ duration: 0.2 }}
            >
              <div className="bg-mint/10 w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6">
                <svg className="w-8 h-8 sm:w-10 sm:h-10 text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                </svg>
              </div>
              <h3 className="text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-charcoal">Secure Payments</h3>
              <p className="text-base sm:text-lg text-charcoal-light">
                Safe and secure payment processing with escrow protection for all transactions
              </p>
            </motion.div>

            <motion.div 
              className="text-center p-6 sm:p-8 rounded-lg hover:bg-lightgray-light transition-colors sm:col-span-2 md:col-span-1 border-2 border-transparent hover:border-mint"
              whileHover={{ scale: 1.05 }}
              transition={{ duration: 0.2 }}
            >
              <div className="bg-mint/10 w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6">
                <svg className="w-8 h-8 sm:w-10 sm:h-10 text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
              </div>
              <h3 className="text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-charcoal">Direct Communication</h3>
              <p className="text-base sm:text-lg text-charcoal-light">
                Built-in messaging system to collaborate effectively throughout the project
              </p>
            </motion.div>
          </div>
        </div>
      </section>

      {/* CTA Section */}
      <section className="py-16 sm:py-20 md:py-24 bg-lightgray min-h-screen flex items-center">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center w-full">
          <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold text-charcoal mb-4 sm:mb-6">
            Ready to Start Your Journey?
          </h2>
          <p className="text-lg sm:text-xl md:text-2xl text-charcoal-light mb-8 sm:mb-10 px-4">
            Join thousands of designers and businesses already using ShockWave
          </p>
          <div className="flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center px-4">
            <Link 
              to="/login" 
              className="w-full sm:w-auto bg-mint text-white px-8 sm:px-10 py-4 rounded-lg text-base sm:text-lg font-semibold hover:bg-mint-dark transition-all shadow-md hover:shadow-lg transform hover:scale-105"
            >
              Join as Designer
            </Link>
            <Link 
              to="/login" 
              className="w-full sm:w-auto bg-charcoal text-white px-8 sm:px-10 py-4 rounded-lg text-base sm:text-lg font-semibold hover:bg-charcoal-light transition-all shadow-md hover:shadow-lg transform hover:scale-105"
            >
              Hire Designers
            </Link>
          </div>
        </div>
      </section>
    </div>
  );
};

export default Home;
</file>

<file path="FrontEnd/pages/Listings.jsx">
import { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import { motion } from 'framer-motion';
import { listingAPI } from '../services/api';

const Listings = () => {
  const [listings, setListings] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchListings = async () => {
      try {
        const response = await listingAPI.getListings();
        setListings(response.data);
      } catch (error) {
        console.error('Failed to fetch listings:', error);
      } finally {
        setLoading(false);
      }
    };
    fetchListings();
  }, []);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-lightgray-light">
        <div className="animate-spin rounded-full h-32 w-32 border-b-4 border-mint"></div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-lightgray-light">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div className="flex justify-between items-center mb-8">
          <div>
            <h1 className="text-3xl font-bold text-charcoal">Find Work</h1>
            <p className="text-charcoal-light mt-1">Browse and apply to the latest design projects.</p>
          </div>
        </div>

        <div className="space-y-6">
          {listings.length === 0 ? (
            <div className="text-center py-16 bg-white rounded-lg shadow-md">
              <h3 className="text-xl font-semibold text-charcoal">No Open Projects</h3>
              <p className="text-charcoal-light mt-2">Check back later for new opportunities!</p>
            </div>
          ) : (
            listings.map((listing, index) => (
              <motion.div
                key={listing.id}
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: index * 0.05 }}
              >
                <Link to={`/listing/${listing.id}`} className="block bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow border-2 border-transparent hover:border-mint">
                  <div className="flex flex-col sm:flex-row justify-between">
                    <div>
                      <h2 className="text-xl font-semibold text-charcoal hover:text-mint">{listing.title}</h2>
                      <p className="text-sm text-charcoal-light mt-1">Posted by {listing.owner_name}</p>
                    </div>
                    <div className="mt-4 sm:mt-0 text-left sm:text-right">
                      <p className="text-lg font-bold text-mint">${listing.budget_min} - ${listing.budget_max}</p>
                      <p className="text-sm text-charcoal-light">Budget</p>
                    </div>
                  </div>
                  <p className="mt-4 text-charcoal line-clamp-2">{listing.description}</p>
                  <div className="mt-4 flex items-center justify-between text-sm text-charcoal-light">
                    <span>Deadline: {listing.deadline ? new Date(listing.deadline).toLocaleDateString() : 'Not specified'}</span>
                    <span className="text-mint font-semibold">View Details &rarr;</span>
                  </div>
                </Link>
              </motion.div>
            ))
          )}
        </div>
      </div>
    </div>
  );
};

export default Listings;
</file>

<file path="FrontEnd/pages/Login.jsx">
import { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { motion } from 'framer-motion';

const Login = () => {
  const [formData, setFormData] = useState({
    username: '',
    password: ''
  });
  const [isLoading, setIsLoading] = useState(false);
  const { login, error } = useAuth();
  const navigate = useNavigate();

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setIsLoading(true);

    try {
      await login(formData.username, formData.password);
      navigate('/dashboard');
    } catch (error) {
      console.error('Login failed:', error);
    } finally {
      setIsLoading(false);
    }
  };

  const quickLogin = (username, password) => {
    setFormData({ username, password });
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-lightgray-light via-white to-mint/5 py-12 px-4 sm:px-6 lg:px-8">
      <motion.div 
        className="max-w-md w-full"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        {/* Login Card */}
        <div className="bg-white rounded-2xl shadow-xl p-8 border-2 border-mint/20">
          <div className="text-center mb-8">
            <h2 className="text-3xl font-bold text-charcoal mb-2">
              Welcome Back
            </h2>
            <p className="text-sm text-charcoal-light">
              Sign in to continue to ShockWave
            </p>
          </div>
          
          <form onSubmit={handleSubmit} className="space-y-6">
            {error && (
              <motion.div 
                className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"
                initial={{ opacity: 0, scale: 0.95 }}
                animate={{ opacity: 1, scale: 1 }}
              >
                {error}
              </motion.div>
            )}
            
            <div>
              <label htmlFor="username" className="block text-sm font-medium text-charcoal mb-2">
                Username
              </label>
              <input
                id="username"
                name="username"
                type="text"
                required
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all"
                placeholder="Enter your username"
                value={formData.username}
                onChange={handleChange}
              />
            </div>

            <div>
              <label htmlFor="password" className="block text-sm font-medium text-charcoal mb-2">
                Password
              </label>
              <input
                id="password"
                name="password"
                type="password"
                required
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all"
                placeholder="Enter your password"
                value={formData.password}
                onChange={handleChange}
              />
            </div>

            <button
              type="submit"
              disabled={isLoading}
              className="w-full bg-mint text-white py-3 rounded-lg font-medium hover:bg-mint-dark focus:outline-none focus:ring-2 focus:ring-mint focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02]"
            >
              {isLoading ? (
                <span className="flex items-center justify-center">
                  <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Signing in...
                </span>
              ) : (
                'Sign In'
              )}
            </button>
          </form>

          <div className="mt-6 text-center">
            <p className="text-sm text-charcoal-light">
              Don't have an account?{' '}
              <Link to="/register" className="font-medium text-mint hover:text-mint-dark">
                Register here
              </Link>
            </p>
          </div>
        </div>

        {/* Test Credentials Box */}
        <motion.div 
          className="mt-6 bg-gradient-to-r from-lightgray-light to-lightgray rounded-xl p-6 border-2 border-lightgray-dark"
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.3 }}
        >
          <div className="text-center mb-4">
            <p className="text-xs font-semibold text-charcoal-light uppercase tracking-wide">Test Accounts</p>
          </div>
          
          <div className="space-y-3">
            {/* Designer Account */}
            <button
              onClick={() => quickLogin('designer_creative', 'design2024')}
              className="w-full bg-white p-3 rounded-lg border-2 border-lightgray-dark hover:border-mint hover:shadow-md transition-all text-left group"
            >
              <div className="flex items-center justify-between">
                <div>
                  <p className="text-xs font-medium text-charcoal-light mb-1">üë®‚Äçüé® Designer</p>
                  <p className="text-sm font-mono text-charcoal-light group-hover:text-mint">designer_creative</p>
                  <p className="text-sm font-mono text-charcoal-light group-hover:text-mint">design2024</p>
                </div>
                <svg className="w-5 h-5 text-charcoal-light group-hover:text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                </svg>
              </div>
            </button>

            {/* Business Account */}
            <button
              onClick={() => quickLogin('business_startup', 'startup2024')}
              className="w-full bg-white p-3 rounded-lg border-2 border-lightgray-dark hover:border-mint hover:shadow-md transition-all text-left group"
            >
              <div className="flex items-center justify-between">
                <div>
                  <p className="text-xs font-medium text-charcoal-light mb-1">üíº Business</p>
                  <p className="text-sm font-mono text-charcoal-light group-hover:text-mint">business_startup</p>
                  <p className="text-sm font-mono text-charcoal-light group-hover:text-mint">startup2024</p>
                </div>
                <svg className="w-5 h-5 text-charcoal-light group-hover:text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                </svg>
              </div>
            </button>

            {/* Admin Account */}
            <button
              onClick={() => quickLogin('admin_master', 'admin2024')}
              className="w-full bg-white p-3 rounded-lg border-2 border-lightgray-dark hover:border-mint hover:shadow-md transition-all text-left group"
            >
              <div className="flex items-center justify-between">
                <div>
                  <p className="text-xs font-medium text-charcoal-light mb-1">üîê Admin</p>
                  <p className="text-sm font-mono text-charcoal-light group-hover:text-mint">admin_master</p>
                  <p className="text-sm font-mono text-charcoal-light group-hover:text-mint">admin2024</p>
                </div>
                <svg className="w-5 h-5 text-charcoal-light group-hover:text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5l7 7-7 7" />
                </svg>
              </div>
            </button>
          </div>

          <p className="text-xs text-charcoal-light text-center mt-4 italic">Click any account to auto-fill credentials</p>
        </motion.div>
      </motion.div>
    </div>
  );
};

export default Login;
</file>

<file path="FrontEnd/pages/Register.jsx">
import { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { motion } from 'framer-motion';

const Register = () => {
  const [formData, setFormData] = useState({
    name: '',
    username: '',
    password: '',
    confirmPassword: '',
    role: 'designer'
  });
  const [isLoading, setIsLoading] = useState(false);
  const { register, error } = useAuth();
  const navigate = useNavigate();

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    setIsLoading(true);

    if (formData.password !== formData.confirmPassword) {
      alert('Passwords do not match');
      setIsLoading(false);
      return;
    }

    try {
      const { confirmPassword, ...userData } = formData;
      await register(userData);
      navigate('/dashboard');
    } catch (error) {
      console.error('Registration failed:', error);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-lightgray-light via-white to-mint/5 py-12 px-4 sm:px-6 lg:px-8">
      <motion.div 
        className="max-w-md w-full"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        <div className="bg-white rounded-2xl shadow-xl p-8 border-2 border-mint/20">
          <div className="text-center mb-8">
            <h2 className="text-3xl font-bold text-charcoal mb-2">
              Create Account
            </h2>
            <p className="text-sm text-charcoal-light">
              Join ShockWave Digital Marketplace
            </p>
          </div>
          
          <form onSubmit={handleSubmit} className="space-y-5">
            {error && (
              <motion.div 
                className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"
                initial={{ opacity: 0, scale: 0.95 }}
                animate={{ opacity: 1, scale: 1 }}
              >
                {error}
              </motion.div>
            )}
            
            <div>
              <label htmlFor="name" className="block text-sm font-medium text-charcoal mb-2">Full Name</label>
              <input
                id="name"
                name="name"
                type="text"
                required
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all"
                placeholder="Enter your full name"
                value={formData.name}
                onChange={handleChange}
              />
            </div>
            
            <div>
              <label htmlFor="username" className="block text-sm font-medium text-charcoal mb-2">Username</label>
              <input
                id="username"
                name="username"
                type="text"
                required
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all"
                placeholder="Choose a username"
                value={formData.username}
                onChange={handleChange}
              />
            </div>
            
            <div>
              <label htmlFor="role" className="block text-sm font-medium text-charcoal mb-2">I am a</label>
              <select
                id="role"
                name="role"
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all bg-white"
                value={formData.role}
                onChange={handleChange}
              >
                <option value="designer">Designer</option>
                <option value="business">Business</option>
              </select>
            </div>
            
            <div>
              <label htmlFor="password" className="block text-sm font-medium text-charcoal mb-2">Password</label>
              <input
                id="password"
                name="password"
                type="password"
                required
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all"
                placeholder="Create a password"
                value={formData.password}
                onChange={handleChange}
              />
            </div>
            
            <div>
              <label htmlFor="confirmPassword" className="block text-sm font-medium text-charcoal mb-2">Confirm Password</label>
              <input
                id="confirmPassword"
                name="confirmPassword"
                type="password"
                required
                className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint focus:border-transparent transition-all"
                placeholder="Confirm your password"
                value={formData.confirmPassword}
                onChange={handleChange}
              />
            </div>

            <button
              type="submit"
              disabled={isLoading}
              className="w-full bg-mint text-white py-3 rounded-lg font-medium hover:bg-mint-dark focus:outline-none focus:ring-2 focus:ring-mint focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02]"
            >
              {isLoading ? (
                <span className="flex items-center justify-center">
                  <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Creating account...
                </span>
              ) : (
                'Create Account'
              )}
            </button>
          </form>

          <div className="mt-6 text-center">
            <p className="text-sm text-charcoal-light">
              Already have an account?{' '}
              <Link to="/login" className="font-medium text-mint hover:text-mint-dark">
                Sign in
              </Link>
            </p>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Register;
</file>

<file path="FrontEnd/styles/App.css">
/* Root styles - optimized for full-width responsive layout */
#root {
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Card styles */
.card {
  padding: 1.5rem;
  border-radius: 0.5rem;
  background: white;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
}

.card:hover {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  transform: translateY(-2px);
}

@media (min-width: 640px) {
  .card {
    padding: 2rem;
  }
}
</file>

<file path="FrontEnd/styles/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: 'Inter', system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  
  /* Color variables */
  --color-charcoal: #2D3436;
  --color-lightgray: #DFE6E9;
  --color-mint: #00CEC9;
}

html {
  scroll-behavior: smooth;
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: #F5F7F8;
  overflow-x: hidden;
  color: #2D3436;
}

/* Image optimization */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Improved transitions */
a, button {
  transition: all 0.2s ease;
}

button {
  cursor: pointer;
}

button:active {
  transform: scale(0.98);
}

/* Responsive container utility */
.container-responsive {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

@media (min-width: 640px) {
  .container-responsive {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container-responsive {
    max-width: 1280px;
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* Text utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.text-wrap-balance {
  text-wrap: balance;
}

/* Animations */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out;
}

/* Accessibility */
*:focus-visible {
  outline: 2px solid #00CEC9;
  outline-offset: 2px;
  border-radius: 4px;
}

/* Mobile-friendly tap targets */
@media (max-width: 768px) {
  button, a {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Safe area for notched devices */
@supports (padding: max(0px)) {
  body {
    padding-left: max(0px, env(safe-area-inset-left));
    padding-right: max(0px, env(safe-area-inset-right));
  }
}

/* Disable hover effects on touch devices */
@media (hover: none) {
  .hover\:scale-105:hover {
    transform: none;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}
</file>

<file path="PLATFORM_FLOW_DIAGRAM.md">
# üåä ShockWave Platform - Visual Flow Diagrams

## 1. High-Level Platform Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     SHOCKWAVE PLATFORM                          ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ   VISITORS   ‚îÇ    ‚îÇ  DESIGNERS   ‚îÇ    ‚îÇ  BUSINESSES  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ (Unauthent.) ‚îÇ    ‚îÇ (Registered) ‚îÇ    ‚îÇ (Registered) ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ         ‚îÇ                   ‚îÇ                    ‚îÇ             ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ                             ‚îÇ                                  ‚îÇ
‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îÇ
‚îÇ                   ‚îÇ   CORE PLATFORM   ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ                   ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ  ‚Ä¢ Authentication ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ  ‚Ä¢ User Profiles  ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ  ‚Ä¢ Messaging      ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ  ‚Ä¢ Projects       ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ  ‚Ä¢ Payments       ‚îÇ                       ‚îÇ
‚îÇ                   ‚îÇ  ‚Ä¢ Reviews        ‚îÇ                       ‚îÇ
‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
‚îÇ                             ‚îÇ                                  ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
‚îÇ              ‚îÇ              ‚îÇ              ‚îÇ                  ‚îÇ
‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
‚îÇ     ‚îÇ   DATABASE      ‚îÇ ‚îÇ  STORAGE ‚îÇ ‚îÇ  PAYMENT ‚îÇ           ‚îÇ
‚îÇ     ‚îÇ   (Profiles,    ‚îÇ ‚îÇ  (Files, ‚îÇ ‚îÇ  GATEWAY ‚îÇ           ‚îÇ
‚îÇ     ‚îÇ   Projects)     ‚îÇ ‚îÇ  Images) ‚îÇ ‚îÇ          ‚îÇ           ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 2. User Authentication Flow

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  LANDING    ‚îÇ
                    ‚îÇ  HOME PAGE  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ              ‚îÇ              ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ Browse   ‚îÇ   ‚îÇ  Login   ‚îÇ   ‚îÇ Register ‚îÇ
      ‚îÇ Public   ‚îÇ   ‚îÇ  Page    ‚îÇ   ‚îÇ  Page    ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ              ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ                ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ Existing    ‚îÇ  ‚îÇ    New     ‚îÇ
         ‚îÇ User Login  ‚îÇ  ‚îÇ  Account   ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ                ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ AUTHENTICATION ‚îÇ
                 ‚îÇ   SUCCESSFUL   ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ            ‚îÇ            ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ Designer  ‚îÇ ‚îÇBusiness‚îÇ ‚îÇ  Admin   ‚îÇ
      ‚îÇ Dashboard ‚îÇ ‚îÇ  Dash  ‚îÇ ‚îÇ  Panel   ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 3. Designer Complete Journey

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  REGISTER    ‚îÇ
‚îÇ  as Designer ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DASHBOARD           ‚îÇ
‚îÇ  ‚Ä¢ Stats: 0 projects ‚îÇ
‚îÇ  ‚Ä¢ Earnings: $0      ‚îÇ
‚îÇ  ‚Ä¢ Messages: 0       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚ñ∫ Step 1: Setup Profile
       ‚îÇ    ‚îú‚îÄ Add bio
       ‚îÇ    ‚îú‚îÄ Add skills
       ‚îÇ    ‚îú‚îÄ Set hourly rate
       ‚îÇ    ‚îú‚îÄ Add location
       ‚îÇ    ‚îî‚îÄ Upload portfolio
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚ñ∫ Step 2: Find Work
       ‚îÇ    ‚îú‚îÄ Browse projects (/listings)
       ‚îÇ    ‚îú‚îÄ Filter by category/budget
       ‚îÇ    ‚îú‚îÄ View project details
       ‚îÇ    ‚îî‚îÄ Submit proposal
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚ñ∫ Step 3: Get Hired
       ‚îÇ    ‚îú‚îÄ Proposal accepted
       ‚îÇ    ‚îú‚îÄ Receive notification
       ‚îÇ    ‚îî‚îÄ Project starts
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚ñ∫ Step 4: Work on Project
       ‚îÇ    ‚îú‚îÄ Communicate via Messages
       ‚îÇ    ‚îú‚îÄ Upload progress updates
       ‚îÇ    ‚îú‚îÄ Meet milestones
       ‚îÇ    ‚îî‚îÄ Submit deliverables
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚ñ∫ Step 5: Get Paid
       ‚îÇ    ‚îú‚îÄ Client reviews work
       ‚îÇ    ‚îú‚îÄ Client approves
       ‚îÇ    ‚îú‚îÄ Payment released from escrow
       ‚îÇ    ‚îî‚îÄ Funds transferred
       ‚îÇ
       ‚îî‚îÄ‚îÄ‚ñ∫ Step 6: Build Reputation
            ‚îú‚îÄ Receive client review
            ‚îú‚îÄ Rating updated (‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê)
            ‚îú‚îÄ Portfolio grows
            ‚îî‚îÄ Get more projects!
```

---

## 4. Business Complete Journey

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  REGISTER    ‚îÇ
‚îÇ  as Business ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DASHBOARD           ‚îÇ
‚îÇ  ‚Ä¢ Active Projects   ‚îÇ
‚îÇ  ‚Ä¢ Total Spent       ‚îÇ
‚îÇ  ‚Ä¢ Messages          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îú‚îÄ‚îÄ‚ñ∫ Option A: Browse Designers
       ‚îÇ    ‚îÇ
       ‚îÇ    ‚îú‚îÄ Go to Browse page (/browse)
       ‚îÇ    ‚îú‚îÄ Apply filters:
       ‚îÇ    ‚îÇ  ‚îú‚îÄ Search by name
       ‚îÇ    ‚îÇ  ‚îú‚îÄ Filter by skill
       ‚îÇ    ‚îÇ  ‚îú‚îÄ Filter by location
       ‚îÇ    ‚îÇ  ‚îî‚îÄ Filter by rate
       ‚îÇ    ‚îÇ
       ‚îÇ    ‚îú‚îÄ View designer profiles
       ‚îÇ    ‚îú‚îÄ Check portfolios & ratings
       ‚îÇ    ‚îú‚îÄ Contact designer
       ‚îÇ    ‚îî‚îÄ Negotiate & hire
       ‚îÇ
       ‚îî‚îÄ‚îÄ‚ñ∫ Option B: Post Project
            ‚îÇ
            ‚îú‚îÄ Create project listing
            ‚îú‚îÄ Add details:
            ‚îÇ  ‚îú‚îÄ Title
            ‚îÇ  ‚îú‚îÄ Description
            ‚îÇ  ‚îú‚îÄ Budget
            ‚îÇ  ‚îú‚îÄ Deadline
            ‚îÇ  ‚îî‚îÄ Required skills
            ‚îÇ
            ‚îú‚îÄ Post publicly
            ‚îÇ
            ‚îú‚îÄ Receive proposals
            ‚îÇ  ‚îú‚îÄ Designer 1 proposes
            ‚îÇ  ‚îú‚îÄ Designer 2 proposes
            ‚îÇ  ‚îî‚îÄ Designer 3 proposes
            ‚îÇ
            ‚îú‚îÄ Review & compare proposals
            ‚îÇ  ‚îú‚îÄ Check portfolios
            ‚îÇ  ‚îú‚îÄ Compare prices
            ‚îÇ  ‚îî‚îÄ Read cover letters
            ‚îÇ
            ‚îú‚îÄ Accept best proposal
            ‚îÇ
            ‚îú‚îÄ Project starts
            ‚îÇ  ‚îú‚îÄ Communicate via Messages
            ‚îÇ  ‚îú‚îÄ Monitor progress
            ‚îÇ  ‚îî‚îÄ Review deliverables
            ‚îÇ
            ‚îú‚îÄ Approve work
            ‚îÇ
            ‚îú‚îÄ Complete payment
            ‚îÇ  ‚îú‚îÄ Checkout page
            ‚îÇ  ‚îú‚îÄ Process payment
            ‚îÇ  ‚îî‚îÄ Release escrow
            ‚îÇ
            ‚îî‚îÄ Leave review
               ‚îî‚îÄ Rate designer (1-5 ‚≠ê)
```

---

## 5. Page Navigation Map

```
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ  HOME (/)   ‚îÇ
                        ‚îÇ   Public    ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                      ‚îÇ                      ‚îÇ
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ  /login    ‚îÇ        ‚îÇ  /register ‚îÇ        ‚îÇ  /browse    ‚îÇ
  ‚îÇ  Public    ‚îÇ        ‚îÇ   Public   ‚îÇ        ‚îÇ   Public    ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                     ‚îÇ                       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
                   ‚îÇ                                  ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                           ‚îÇ
              ‚îÇ  AUTH    ‚îÇ                           ‚îÇ
              ‚îÇ SUCCESS  ‚îÇ                           ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îÇ
                   ‚îÇ                                  ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îÇ
         ‚îÇ         ‚îÇ             ‚îÇ                  ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
    ‚îÇ/designer‚îÇ ‚îÇ/business‚îÇ ‚îÇ /admin  ‚îÇ            ‚îÇ
    ‚îÇdashboard‚îÇ ‚îÇdashboard‚îÇ ‚îÇ /admin  ‚îÇ            ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
         ‚îÇ        ‚îÇ              ‚îÇ                  ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ
                  ‚îÇ                                  ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
    ‚îÇ             ‚îÇ                  ‚îÇ              ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ/messages‚îÇ  ‚îÇ/dashboard‚îÇ  ‚îÇ/designer/:id  ‚îÇ  ‚îÇ/listing/:id ‚îÇ
‚îÇProtected‚îÇ  ‚îÇProtected ‚îÇ  ‚îÇ  Public       ‚îÇ  ‚îÇ  Public     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                                            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                            ‚îÇ/checkout/:id   ‚îÇ
                                            ‚îÇ  Protected     ‚îÇ
                                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 6. Messaging System Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        MESSAGES PAGE (/messages)          ‚îÇ
‚îÇ                                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ Conversations  ‚îÇ  ‚îÇ  Chat Window    ‚îÇ‚îÇ
‚îÇ  ‚îÇ  (Left Panel)  ‚îÇ  ‚îÇ  (Right Panel)  ‚îÇ‚îÇ
‚îÇ  ‚îÇ                ‚îÇ  ‚îÇ                 ‚îÇ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Active Chats ‚îÇ  ‚îÇ ‚Ä¢ Message       ‚îÇ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Unread (3)   ‚îÇ  ‚îÇ   History       ‚îÇ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Search       ‚îÇ  ‚îÇ ‚Ä¢ Send Message  ‚îÇ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ Filter       ‚îÇ  ‚îÇ ‚Ä¢ Attach File   ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ           ‚îÇ                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚îú‚îÄ‚îÄ‚ñ∫ Click Conversation
            ‚îÇ    ‚îî‚îÄ Load chat history
            ‚îÇ
            ‚îú‚îÄ‚îÄ‚ñ∫ Type & Send Message
            ‚îÇ    ‚îú‚îÄ Message sent
            ‚îÇ    ‚îú‚îÄ Other user receives
            ‚îÇ    ‚îî‚îÄ Notification sent
            ‚îÇ
            ‚îú‚îÄ‚îÄ‚ñ∫ Attach File (optional)
            ‚îÇ    ‚îú‚îÄ Upload file
            ‚îÇ    ‚îî‚îÄ Share with user
            ‚îÇ
            ‚îî‚îÄ‚îÄ‚ñ∫ Receive New Message
                 ‚îú‚îÄ Browser notification
                 ‚îú‚îÄ Unread badge appears
                 ‚îî‚îÄ Sound alert (optional)
```

---

## 7. Project Lifecycle Diagram

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    PROJECT LIFECYCLE                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

BUSINESS SIDE                    DESIGNER SIDE
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

1. Create Project               1. Browse Projects
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
2. Post Publicly  ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 2. Find Match
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
3. Wait for                     3. Submit Proposal
   Proposals                       ‚îÇ
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
4. Review         ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 4. Wait for Response
   Proposals                       ‚îÇ
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
5. Accept Best                  5. Proposal Accepted!
   Proposal                        ‚îÇ
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
6. Deposit to     ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 6. Start Working
   Escrow                          ‚îÇ
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
7. Monitor        ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 7. Submit Updates
   Progress                        ‚îÇ
   ‚îÇ              ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫   ‚îÇ
   ‚îÇ           Communication       ‚îÇ
   ‚îÇ              (Messages)       ‚îÇ
   ‚ñº                               ‚ñº
8. Review         ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 8. Submit Final
   Deliverables                    Deliverables
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
9. Approve Work                 9. Wait for Approval
   ‚îÇ                               ‚îÇ
   ‚ñº                               ‚ñº
10. Release       ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 10. Receive Payment
    Payment                         ‚îÇ
    ‚îÇ                               ‚îÇ
    ‚ñº                               ‚ñº
11. Leave Review  ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ 11. Leave Review
    ‚îÇ                               ‚îÇ
    ‚ñº                               ‚ñº
   ‚úÖ COMPLETE                     ‚úÖ COMPLETE
```

---

## 8. Payment & Escrow Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            SECURE PAYMENT SYSTEM                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Step 1: PROJECT STARTS
   ‚îú‚îÄ Business accepts proposal
   ‚îî‚îÄ Escrow account created
           ‚îÇ
           ‚ñº
Step 2: DEPOSIT TO ESCROW
   ‚îú‚îÄ Business deposits full amount
   ‚îú‚îÄ Payment held securely
   ‚îî‚îÄ Designer notified
           ‚îÇ
           ‚ñº
Step 3: WORK IN PROGRESS
   ‚îú‚îÄ Designer works on project
   ‚îú‚îÄ Money stays in escrow
   ‚îî‚îÄ Protected for both parties
           ‚îÇ
           ‚ñº
Step 4: DELIVERABLES SUBMITTED
   ‚îú‚îÄ Designer uploads final work
   ‚îî‚îÄ Business receives notification
           ‚îÇ
           ‚ñº
Step 5: REVIEW PERIOD
   ‚îú‚îÄ Business reviews work
   ‚îÇ
   ‚îú‚îÄ‚îÄ‚ñ∫ APPROVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ                        ‚îÇ
   ‚îî‚îÄ‚îÄ‚ñ∫ REQUEST REVISIONS   ‚îÇ
           ‚îÇ                ‚îÇ
           ‚ñº                ‚îÇ
      Designer makes        ‚îÇ
      changes & resubmits   ‚îÇ
           ‚îÇ                ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
Step 6: PAYMENT RELEASE
   ‚îú‚îÄ Escrow releases funds
   ‚îú‚îÄ Designer receives payment
   ‚îú‚îÄ Platform fee deducted
   ‚îî‚îÄ Transaction complete ‚úÖ
           ‚îÇ
           ‚ñº
Step 7: REVIEWS EXCHANGED
   ‚îú‚îÄ Both parties leave reviews
   ‚îî‚îÄ Ratings updated
```

---

## 9. Search & Filter Flow (Browse Page)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     BROWSE DESIGNERS (/browse)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                       ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  SEARCH  ‚îÇ          ‚îÇ  FILTERS   ‚îÇ
   ‚îÇ  Input   ‚îÇ          ‚îÇ  Panel     ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                      ‚îÇ
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ  ‚îÇ
        ‚ñº  ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  APPLY FILTERS  ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ ‚Ä¢ Search: ""    ‚îÇ
   ‚îÇ ‚Ä¢ Skill: ""     ‚îÇ
   ‚îÇ ‚Ä¢ Location: ""  ‚îÇ
   ‚îÇ ‚Ä¢ Min Rate: $   ‚îÇ
   ‚îÇ ‚Ä¢ Max Rate: $   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ   RESULTS GRID      ‚îÇ
   ‚îÇ                     ‚îÇ
   ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
   ‚îÇ  ‚îÇ 1 ‚îÇ ‚îÇ 2 ‚îÇ ‚îÇ 3 ‚îÇ ‚îÇ
   ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
   ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
   ‚îÇ  ‚îÇ 4 ‚îÇ ‚îÇ 5 ‚îÇ ‚îÇ 6 ‚îÇ ‚îÇ
   ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚îú‚îÄ‚îÄ‚ñ∫ Hover Card
            ‚îÇ    ‚îî‚îÄ Preview info
            ‚îÇ
            ‚îî‚îÄ‚îÄ‚ñ∫ Click "View Profile"
                 ‚îî‚îÄ Navigate to /designer/:id
```

---

## 10. Responsive Mobile Navigation

```
DESKTOP VIEW                    MOBILE VIEW
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê                    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Logo | Links | Auth ‚îÇ        ‚îÇ Logo | ‚ò∞     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                      ‚îÇ
                               (Click ‚ò∞)
                                      ‚îÇ
                                      ‚ñº
                               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                               ‚îÇ Mobile Menu  ‚îÇ
                               ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
                               ‚îÇ ‚Ä¢ Browse     ‚îÇ
                               ‚îÇ ‚Ä¢ Find Work  ‚îÇ
                               ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
                               ‚îÇ ‚Ä¢ Dashboard  ‚îÇ
                               ‚îÇ ‚Ä¢ Messages   ‚îÇ
                               ‚îÇ ‚Ä¢ Logout     ‚îÇ
                               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 11. User States & Permissions

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              USER ROLE MATRIX                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                    ‚îÇ
‚îÇ  Page/Feature      ‚îÇ Visitor ‚îÇ Designer ‚îÇ Business‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  Home              ‚îÇ    ‚úÖ   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Browse Designers  ‚îÇ    ‚úÖ   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  View Profiles     ‚îÇ    ‚úÖ   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Login/Register    ‚îÇ    ‚úÖ   ‚îÇ    ‚ùå    ‚îÇ    ‚ùå   ‚îÇ
‚îÇ  Dashboard         ‚îÇ    ‚ùå   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Messages          ‚îÇ    ‚ùå   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Post Project      ‚îÇ    ‚ùå   ‚îÇ    ‚ùå    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Submit Proposal   ‚îÇ    ‚ùå   ‚îÇ    ‚úÖ    ‚îÇ    ‚ùå   ‚îÇ
‚îÇ  Browse Projects   ‚îÇ    ‚ùå   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Payment/Checkout  ‚îÇ    ‚ùå   ‚îÇ    ‚úÖ    ‚îÇ    ‚úÖ   ‚îÇ
‚îÇ  Admin Panel       ‚îÇ    ‚ùå   ‚îÇ    ‚ùå    ‚îÇ  Admin  ‚îÇ
‚îÇ                                                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Legend: ‚úÖ = Allowed  ‚ùå = Not Allowed
```

---

## 12. Error Handling & Edge Cases

```
SCENARIO                        FLOW
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                        ‚îÄ‚îÄ‚îÄ‚îÄ

User Not Logged In
   ‚îú‚îÄ Tries to access Dashboard
   ‚îÇ  ‚îî‚îÄ‚ñ∫ Redirect to Login
   ‚îÇ
   ‚îú‚îÄ Tries to send message
   ‚îÇ  ‚îî‚îÄ‚ñ∫ Show "Login Required" modal
   ‚îÇ
   ‚îî‚îÄ Tries to hire designer
      ‚îî‚îÄ‚ñ∫ Redirect to Register

Invalid Credentials
   ‚îú‚îÄ Enter wrong password
   ‚îÇ  ‚îî‚îÄ‚ñ∫ Show error: "Invalid credentials"
   ‚îÇ
   ‚îî‚îÄ Username not found
      ‚îî‚îÄ‚ñ∫ Show error: "User not found"

Payment Failure
   ‚îú‚îÄ Card declined
   ‚îÇ  ‚îî‚îÄ‚ñ∫ Show error + retry option
   ‚îÇ
   ‚îî‚îÄ Insufficient funds
      ‚îî‚îÄ‚ñ∫ Show error + alternative methods

No Results Found
   ‚îú‚îÄ Search returns empty
   ‚îÇ  ‚îî‚îÄ‚ñ∫ Show "No designers found"
   ‚îÇ       ‚îî‚îÄ‚ñ∫ Suggest: "Try different filters"
   ‚îÇ
   ‚îî‚îÄ Adjust filters
      ‚îî‚îÄ‚ñ∫ Re-search

Network Error
   ‚îú‚îÄ API call fails
   ‚îÇ  ‚îî‚îÄ‚ñ∫ Show retry button
   ‚îÇ
   ‚îî‚îÄ Timeout
      ‚îî‚îÄ‚ñ∫ Show error toast
```

---

## 13. Notification System Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        NOTIFICATION TRIGGERS              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

EVENT                    ‚Üí NOTIFICATION
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ                      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

New Message              ‚Üí Badge on Messages icon
                          ‚Üí Browser notification
                          ‚Üí Email (optional)

Proposal Accepted        ‚Üí Dashboard alert
                          ‚Üí Email notification
                          ‚Üí Push notification

Payment Received         ‚Üí Dashboard notification
                          ‚Üí Email confirmation
                          ‚Üí Transaction receipt

New Review               ‚Üí Profile update alert
                          ‚Üí Email notification

Project Milestone        ‚Üí Progress notification
                          ‚Üí Reminder email

Deadline Approaching     ‚Üí Warning notification
                          ‚Üí Email reminder (24h)
```

---

## 14. Data Flow Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              FRONTEND (React)                    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ  Pages   ‚îÇ  ‚îÇComponents‚îÇ  ‚îÇ Context  ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  (Views) ‚îÇ  ‚îÇ  (UI)    ‚îÇ  ‚îÇ (State)  ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ       ‚îÇ             ‚îÇ              ‚îÇ            ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                     ‚îÇ                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚îÇ API Calls
                      ‚îÇ (HTTP/REST)
                      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              BACKEND (Node.js)                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ   API    ‚îÇ  ‚îÇ  Auth    ‚îÇ  ‚îÇ  Logic   ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  Routes  ‚îÇ  ‚îÇ  Middleware ‚îÇ (Business)‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ       ‚îÇ             ‚îÇ              ‚îÇ            ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ                     ‚îÇ                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚îÇ Database Queries
                      ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              DATABASE (PostgreSQL)               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ  Users   ‚îÇ  ‚îÇ Projects ‚îÇ  ‚îÇ Messages ‚îÇ     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§     ‚îÇ
‚îÇ  ‚îÇ Profiles ‚îÇ  ‚îÇ Proposals‚îÇ  ‚îÇ Reviews  ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

**End of Visual Flow Diagrams** üìä

*These diagrams complement the detailed USER_FLOW.md guide*
</file>

<file path="postcss.config.js">
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
</file>

<file path="vite.config.js">
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})
</file>

<file path="BackEnd/app.js">
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import cookieParser from 'cookie-parser';
import rateLimit from 'express-rate-limit';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';
import http from 'http';
import { Server } from 'socket.io';

// --- (MODIFICATION 1): IMPORT MONGOOSE AND THE MESSAGE MODEL ---
import mongoose from 'mongoose';
import connectDB from './config/database.js';
import Message from './models/messageModel.js';

// Import routes and middleware...
import authRoutes from './routes/authRoutes.js';
import profileRoutes from './routes/profileRoutes.js';
import listingRoutes from './routes/listingsRoutes.js';
import orderRoutes from './routes/ordersRoutes.js';
import messageRoutes from './routes/messagesRoutes.js';
import paymentRoutes from './routes/paymentsRoutes.js';
import adminRoutes from './routes/adminRoutes.js';
import dashboardRoutes from './routes/dashboardRoutes.js';
import uploadRoutes from './routes/uploadRoutes.js';
import reviewsRoutes from './routes/reviewsRoutes.js';
import { errorHandler } from './middleware/errorHandler.js';
import { authenticateToken } from './middleware/auth.js';

dotenv.config();

// --- (MODIFICATION 2): CONNECT TO MONGODB AT STARTUP ---
connectDB(); 

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
const app = express();
const server = http.createServer(app);

const allowedOrigins = [
  'http://localhost:5173',
  'http://localhost:5174',
  'http://localhost:5175',
  process.env.CLIENT_URL
].filter(Boolean);

const corsOptions = {
  origin: function (origin, callback) {
    if (!origin || allowedOrigins.indexOf(origin) !== -1) {
      callback(null, true);
    } else {
      callback(new Error('Not allowed by CORS'));
    }
  },
  credentials: true
};

const io = new Server(server, {
  cors: corsOptions,
  transports: ['polling', 'websocket']
});

const PORT = process.env.PORT || 5000;

app.use(helmet({ crossOriginResourcePolicy: { policy: "cross-origin" } }));
app.use(cors(corsOptions));
app.use(rateLimit({ windowMs: 15 * 60 * 1000, max: 100, message: 'Too many requests' }));
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true }));
app.use(cookieParser());

app.use('/uploads', express.static(path.join(__dirname, 'uploads')));

// API Routes
app.use('/api/auth', authRoutes);
app.use('/api/profiles', profileRoutes);
app.use('/api/listings', listingRoutes);
app.use('/api/orders', orderRoutes);
app.use('/api/messages', messageRoutes);
app.use('/api/payments', paymentRoutes);
app.use('/api/admin', authenticateToken, adminRoutes);
app.use('/api/dashboard', dashboardRoutes);
app.use('/api/uploads', uploadRoutes);
app.use('/api/reviews', reviewsRoutes);

app.get('/api/health', (req, res) => res.json({ status: 'OK' }));

// --- (MODIFICATION 3): THIS IS THE DEFINITIVE FIX FOR SOCKETS, NOW USING MONGOOSE ---
io.on('connection', (socket) => {
  console.log('üîå A user connected:', socket.id);
  
  socket.on('join_room', (userId) => {
    console.log(`User ${userId} joined room: ${userId}`);
    socket.join(userId.toString());
  });

  socket.on('send_message', async (data) => {
    try {
      const { sender_id, recipient_id, body } = data;
      if (!sender_id || !recipient_id || !body) {
        console.error('Socket Event Error: Invalid message data received:', data);
        return;
      }
      
      const thread_id = [sender_id, recipient_id].sort().join('-');
      
      const newMessage = new Message({
        thread_id: thread_id,
        sender: sender_id,
        recipient: recipient_id,
        body: body,
      });

      await newMessage.save();
      
      // --- THIS IS THE FIX ---
      // Construct the object with the exact fields the frontend expects ('sender_id', etc.)
      const messageForClient = {
          id: newMessage._id.toHexString(),
          thread_id: newMessage.thread_id,
          sender_id: newMessage.sender.toHexString(),
          recipient_id: newMessage.recipient.toHexString(),
          body: newMessage.body,
          created_at: newMessage.created_at,
      };

      // Emit the correctly structured object to both users
      io.to(recipient_id.toString()).emit('receive_message', messageForClient);
      io.to(sender_id.toString()).emit('receive_message', messageForClient);
      console.log(`Message sent from ${sender_id} to ${recipient_id}`);

    } catch (error) {
      console.error('!!! CRITICAL FAILURE in "send_message" event:', error);
    }
  });

  socket.on('disconnect', () => {
    console.log('üî• A user disconnected:', socket.id);
  });
});

app.use(errorHandler);

server.listen(PORT, () => {
  console.log(`üöÄ Server running on port ${PORT}`);
  console.log(`üìä Environment: ${process.env.NODE_ENV || 'development'}`);
});
</file>

<file path="BackEnd/controllers/listingsController.js">
import { validationResult } from 'express-validator';
import Listing from '../models/listingModel.js';
import Proposal from '../models/proposalModel.js';
import User from '../models/userModel.js';

// @desc    Get all listings
// @route   GET /api/listings
// @access  Public
export const getAllListings = async (req, res, next) => {
  try {
    const listings = await Listing.find({ status: 'open' })
      .populate('owner', 'name')
      .sort({ createdAt: -1 })
      .lean();
    
    // Transform to match expected format
    const formattedListings = listings.map(listing => ({
      ...listing,
      owner_name: listing.owner?.name,
      created_at: listing.createdAt,
      updated_at: listing.updatedAt
    }));
    
    res.json(formattedListings);
  } catch (error) {
    next(error);
  }
};

// @desc    Get a single listing by ID
// @route   GET /api/listings/:id
// @access  Public
export const getListingById = async (req, res, next) => {
  try {
    const listing = await Listing.findById(req.params.id)
      .populate('owner', 'name')
      .lean();

    if (!listing) {
      return res.status(404).json({ error: 'Listing not found' });
    }
    
    // Transform to match expected format
    const formattedListing = {
      ...listing,
      owner_name: listing.owner?.name,
      created_at: listing.createdAt,
      updated_at: listing.updatedAt
    };
    
    res.json(formattedListing);
  } catch (error) {
    next(error);
  }
};

// @desc    Create a new listing
// @route   POST /api/listings
// @access  Private (Business only)
export const createListing = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const { title, description, budget_min, budget_max, deadline, tags } = req.body;
    const owner = req.user.id;

    const listing = new Listing({
      owner,
      title,
      description,
      budget_min,
      budget_max,
      deadline,
      tags: tags || []
    });

    await listing.save();
    
    res.status(201).json({ id: listing.id, message: 'Listing created successfully' });
  } catch (error) {
    next(error);
  }
};

// @desc    Submit a proposal to a listing
// @route   POST /api/listings/:id/proposals
// @access  Private (Designer only)
export const createProposal = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }

    const listing = req.params.id;
    const designer = req.user.id;
    const { message, price_offered, delivery_time } = req.body;

    const existingProposal = await Proposal.findOne({ listing, designer });

    if (existingProposal) {
      return res.status(409).json({ error: 'You have already submitted a proposal for this listing.' });
    }

    const proposal = new Proposal({
      listing,
      designer,
      message,
      price_offered,
      delivery_time
    });

    await proposal.save();

    res.status(201).json({ message: 'Proposal submitted successfully' });
  } catch (error) {
    next(error);
  }
};

// @desc    Get all proposals for a specific listing
// @route   GET /api/listings/:id/proposals
// @access  Private (Listing Owner only)
export const getProposalsForListing = async (req, res, next) => {
  try {
    const listingId = req.params.id;
    const userId = req.user.id;

    // First, verify that the current user owns this listing
    const listing = await Listing.findById(listingId).select('owner');
    if (!listing || listing.owner.toString() !== userId.toString()) {
      return res.status(403).json({ error: 'You are not authorized to view proposals for this listing.' });
    }

    // If authorized, fetch all proposals with populated designer data
    const proposals = await Proposal.find({ listing: listingId })
      .populate('designer', 'name')
      .sort({ createdAt: -1 })
      .lean();

    // Transform to match expected format
    const formattedProposals = proposals.map(prop => ({
      id: prop._id,
      designer_id: prop.designer._id,
      designer_name: prop.designer.name,
      message: prop.message,
      price_offered: prop.price_offered,
      delivery_time: prop.delivery_time,
      created_at: prop.createdAt
    }));

    res.json(formattedProposals);
  } catch (error) {
    console.error("Error fetching proposals:", error);
    next(error);
  }
};
</file>

<file path="BackEnd/controllers/messagesController.js">
import Message from '../models/messageModel.js';
import User from '../models/userModel.js';

// Helper function
const generateThreadId = (userId1, userId2) => {
  return [userId1, userId2].sort().join('-');
};

// @desc    Get all message threads for the logged-in user
// @route   GET /api/messages/threads
// @access  Private
export const getMessageThreads = async (req, res, next) => {
  try {
    if (!req.user) {
      return res.status(401).json({ error: 'Not authenticated' });
    }
    const userId = req.user.id;

    // Get all unique thread_ids where user is sender or recipient
    const allMessages = await Message.find({
      $or: [{ sender: userId }, { recipient: userId }]
    })
    .sort({ created_at: -1 })
    .populate('sender recipient', 'name')
    .lean();

    // Group by thread_id and get the latest message for each
    const threadMap = new Map();
    allMessages.forEach(msg => {
      if (!threadMap.has(msg.thread_id)) {
        const participant_id = msg.sender._id.toString() === userId.toString() 
          ? msg.recipient._id 
          : msg.sender._id;
        const participant_name = msg.sender._id.toString() === userId.toString()
          ? msg.recipient.name
          : msg.sender.name;
        
        threadMap.set(msg.thread_id, {
          thread_id: msg.thread_id,
          participant_id,
          participant_name,
          last_message: msg.body,
          last_message_date: msg.created_at
        });
      }
    });

    const threads = Array.from(threadMap.values());
    res.json(threads);
  } catch (error) {
    console.error("CRITICAL ERROR in getMessageThreads:", error);
    next(error);
  }
};

// Get all messages within a specific thread (with a participant)

export const getMessagesInThread = async (req, res, next) => {
    try {
        const userId = req.user.id;
        const participantId = req.params.participantId;
        const thread_id = generateThreadId(userId, participantId);

        const messages = await Message.find({ thread_id })
          .sort({ created_at: 1 })
          .lean();

        // Mark messages as read
        await Message.updateMany(
          { thread_id, recipient: userId, is_read: false },
          { is_read: true }
        );

        res.json(messages);
    } catch (error) {
        console.error("Error in getMessagesInThread:", error);
        next(error);
    }
};
</file>

<file path="BackEnd/controllers/profileController.js">
import { validationResult } from 'express-validator';
import User from '../models/userModel.js';
import Review from '../models/reviewModel.js';

// @desc    Get profile by user ID
// @route   GET /api/profiles/:id
// @access  Public
export const getProfileById = async (req, res, next) => {
  try {
    const { id } = req.params;
    const user = await User.findOne({ _id: id, is_active: true })
      .select('name role profile created_at')
      .lean();

    if (!user) {
      return res.status(404).json({ error: 'Profile not found' });
    }

    // Get review statistics
    const reviewStats = await Review.aggregate([
      { $match: { reviewee: user._id } },
      { $group: {
        _id: null,
        avg_rating: { $avg: '$rating' },
        review_count: { $sum: 1 }
      }}
    ]);

    const profile = {
      user_id: user._id,
      ...user.profile,
      name: user.name,
      role: user.role,
      user_created_at: user.created_at,
      avg_rating: reviewStats[0]?.avg_rating || null,
      review_count: reviewStats[0]?.review_count || 0
    };

    res.json(profile);
  } catch (error) {
    next(error);
  }
};

//  Update a user's profile

export const updateProfile = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }
    const { id } = req.params;
    if (req.user.id !== id) {
      return res.status(403).json({ error: 'Not authorized to update this profile' });
    }
    const { bio, skills, location, hourly_rate, portfolio_urls, social_links } = req.body;
    const updates = {};
    if (bio !== undefined) updates['profile.bio'] = bio;
    if (skills !== undefined) updates['profile.skills'] = skills;
    if (location !== undefined) updates['profile.location'] = location;
    if (hourly_rate !== undefined) updates['profile.hourly_rate'] = hourly_rate;
    if (portfolio_urls !== undefined) updates['profile.portfolio_urls'] = portfolio_urls;
    if (social_links !== undefined) updates['profile.social_links'] = social_links;
    if (Object.keys(updates).length === 0) {
      return res.status(400).json({ error: 'No valid fields to update' });
    }
    
    await User.findByIdAndUpdate(id, { $set: updates }, { new: true });
    res.json({ message: 'Profile updated successfully' });
  } catch (error) {
    next(error);
  }
};

//  Search for designer profiles

export const searchProfiles = async (req, res, next) => {
  try {
    const {
      search = '',
      skill = '',
      location = '',
      min_rate = '',
      max_rate = '',
      page = 1,
      limit = 20
    } = req.query;

    const skip = (page - 1) * limit;

    // Build query conditions
    const matchConditions = {
      is_active: true,
      role: 'designer'
    };

    if (search) {
      matchConditions.$or = [
        { name: { $regex: search, $options: 'i' } },
        { 'profile.bio': { $regex: search, $options: 'i' } },
        { 'profile.skills': { $regex: search, $options: 'i' } }
      ];
    }
    if (skill) {
      matchConditions['profile.skills'] = { $regex: skill, $options: 'i' };
    }
    if (location) {
      matchConditions['profile.location'] = { $regex: location, $options: 'i' };
    }
    
    const minRateValue = parseFloat(min_rate);
    const maxRateValue = parseFloat(max_rate);

    if (!isNaN(minRateValue) && minRateValue >= 0) {
      matchConditions['profile.hourly_rate'] = { ...matchConditions['profile.hourly_rate'], $gte: minRateValue };
    }
    if (!isNaN(maxRateValue) && maxRateValue > 0) {
      matchConditions['profile.hourly_rate'] = { ...matchConditions['profile.hourly_rate'], $lte: maxRateValue };
    }

    const users = await User.find(matchConditions)
      .select('name role profile')
      .skip(skip)
      .limit(parseInt(limit))
      .lean();

    // Get review stats for each user
    const profiles = await Promise.all(users.map(async (user) => {
      const reviewStats = await Review.aggregate([
        { $match: { reviewee: user._id } },
        { $group: {
          _id: null,
          avg_rating: { $avg: '$rating' },
          review_count: { $sum: 1 }
        }}
      ]);

      return {
        user_id: user._id,
        name: user.name,
        role: user.role,
        bio: user.profile?.bio || '',
        skills: user.profile?.skills || [],
        location: user.profile?.location || '',
        hourly_rate: user.profile?.hourly_rate,
        avatar_url: user.profile?.avatar_url || '',
        avg_rating: reviewStats[0]?.avg_rating ? parseFloat(reviewStats[0].avg_rating).toFixed(1) : null,
        review_count: reviewStats[0]?.review_count || 0
      };
    }));
    
    res.json({
      profiles,
      pagination: {
        page: parseInt(page),
        limit: parseInt(limit),
        hasMore: profiles.length === parseInt(limit)
      }
    });
  } catch (error) {
    console.error('Error in searchProfiles:', error);
    next(error);
  }
};
</file>

<file path="BackEnd/controllers/reviewsController.js">
import { validationResult } from 'express-validator';
import Review from '../models/reviewModel.js';
import Order from '../models/orderModel.js';
import User from '../models/userModel.js';

//  Create a new review for an order

export const createReview = async (req, res, next) => {
  try {
    const errors = validationResult(req);
    if (!errors.isEmpty()) {
      return res.status(400).json({ errors: errors.array() });
    }
    const reviewer = req.user.id;
    const { order_id, reviewee_id, rating, comment } = req.body;

    const order = await Order.findById(order_id).select('buyer seller status');

    if (!order) {
      return res.status(404).json({ error: 'Order not found.' });
    }

    const isParticipant = order.buyer.toString() === reviewer || order.seller.toString() === reviewer;
    const isCorrectReviewee = (order.buyer.toString() === reviewee_id || order.seller.toString() === reviewee_id) && reviewee_id !== reviewer;

    if (!isParticipant || !isCorrectReviewee) {
      return res.status(403).json({ error: 'You are not authorized to review this order.' });
    }

    if (order.status !== 'completed') {
        return res.status(403).json({ error: 'You can only review completed orders.' });
    }
   
    // Check if review already exists
    const existingReview = await Review.findOne({ order: order_id, reviewer });
    if (existingReview) {
      return res.status(409).json({ error: 'A review for this order has already been submitted by you.' });
    }

    const review = new Review({
      order: order_id,
      reviewer,
      reviewee: reviewee_id,
      rating,
      comment
    });

    await review.save();

    res.status(201).json({ id: review.id, message: 'Review submitted successfully.' });
  } catch (error) {
    if (error.code === 11000) { // MongoDB duplicate key error
      return res.status(409).json({ error: 'A review for this order has already been submitted by you.' });
    }
    next(error);
  }
};

export const getReviewsForUser = async (req, res, next) => {
  try {
    const { userId } = req.params;
    
    const reviews = await Review.find({ reviewee: userId })
      .populate('reviewer', 'name profile.avatar_url')
      .sort({ createdAt: -1 })
      .lean();

    const formattedReviews = reviews.map(r => ({
      id: r._id,
      rating: r.rating,
      comment: r.comment,
      created_at: r.createdAt,
      reviewer_name: r.reviewer.name,
      reviewer_avatar: r.reviewer.profile?.avatar_url || ''
    }));

    res.json(formattedReviews);
  } catch (error) {
    console.error("Error in getReviewsForUser:", error);
    next(error);
  }
};
</file>

<file path="BackEnd/package.json">
{
  "name": "digital-marketplace-server",
  "version": "1.0.0",
  "description": "Backend API for Digital Marketplace",
  "main": "app.js",
  "type": "module",
  "scripts": {
    "dev": "nodemon app.js",
    "start": "node app.js",
    "test": "jest --watchAll",
    "test:coverage": "jest --coverage",
    "db:init": "node scripts/init.js"
  },
  "dependencies": {
    "bcrypt": "^5.1.1",
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "dotenv": "^16.4.7",
    "express": "^4.21.1",
    "express-rate-limit": "^7.4.1",
    "express-validator": "^7.2.0",
    "helmet": "^8.0.0",
    "jsonwebtoken": "^9.0.2",
    "mongoose": "^8.4.0",
    "multer": "^1.4.5-lts.1",
    "node-fetch": "^3.3.2",
    "nodemailer": "^6.9.18",
    "sharp": "^0.33.5",
    "socket.io": "4.7.5",
    "stripe": "^17.3.1"
  },
  "devDependencies": {
    "jest": "^29.7.0",
    "nodemon": "^3.1.7",
    "supertest": "^7.0.0"
  }
}
</file>

<file path="BackEnd/routes/listingsRoutes.js">
import express from 'express';
import { body } from 'express-validator';
import { authenticateToken, requireRole } from '../middleware/auth.js';
import { 
  getAllListings, 
  getListingById, 
  createListing,
  createProposal,
  getProposalsForListing
} from '../controllers/listingsController.js';

const router = express.Router();

// Validation Middleware
const createListingValidation = [
  body('title').notEmpty().withMessage('Title is required'),
  body('description').notEmpty().withMessage('Description is required'),
  body('budget_min').isFloat({ gt: 0 }).withMessage('Minimum budget must be a positive number'),
  body('budget_max').isFloat().custom((value, { req }) => {
    if (parseFloat(value) < parseFloat(req.body.budget_min)) {
      throw new Error('Maximum budget must be greater than or equal to the minimum budget.');
    }
    return true;
  }),
  body('deadline').optional().isISO8601().toDate(),
  body('tags').optional().isArray()
];

const createProposalValidation = [
  body('message').notEmpty().withMessage('A message is required for your proposal'),
  body('price_offered').isFloat({ gt: 0 }).withMessage('Offered price must be a positive number'),
  body('delivery_time').isInt({ gt: 0 }).withMessage('Delivery time must be a positive number of days')
];

// --- Listing Routes ---
router.get('/', getAllListings);
router.get('/:id', getListingById);
router.post(
  '/', 
  authenticateToken, 
  requireRole(['business']), 
  createListingValidation,
  createListing
);

// --- Proposal Routes ---
// GET proposals for a listing (for the business owner)
router.get(
  '/:id/proposals',
  authenticateToken,
  requireRole(['business']),
  getProposalsForListing
);

// POST a proposal to a listing (for designers)
router.post(
  '/:id/proposals', 
  authenticateToken, 
  requireRole(['designer']), 
  createProposalValidation,
  createProposal
);

export default router;
</file>

<file path="FrontEnd/components/Navbar.jsx">
import { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { motion, AnimatePresence } from 'framer-motion';

const Navbar = () => {
  const { user, isAuthenticated, logout } = useAuth();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [avatarUrl, setAvatarUrl] = useState(null);

  // This useEffect correctly handles setting the avatar URL
  // It only runs when the 'user' object changes.
  useEffect(() => {
    if (isAuthenticated && user) {
      const url = user.avatar_url
        ? `${import.meta.env.VITE_SERVER_URL || 'http://localhost:5000'}${user.avatar_url}`
        : `https://ui-avatars.com/api/?name=${user.name.replace(' ', '+')}&background=00CEC9&color=fff`;
      setAvatarUrl(url);
    } else {
      setAvatarUrl(null); // Clear the avatar on logout
    }
  }, [user, isAuthenticated]);

  const handleLogout = async () => {
    try {
      await logout();
      setMobileMenuOpen(false);
    } catch (error) {
      console.error('Logout failed:', error);
    }
  };

  const closeMobileMenu = () => {
    setMobileMenuOpen(false);
  };

  return (
    <motion.nav 
      className="bg-white shadow-lg sticky top-0 z-50"
      initial={{ y: -100 }} 
      animate={{ y: 0 }}
      transition={{ duration: 0.5 }}
    >
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center h-16">
          {/* Logo */}
          <div className="flex items-center">
            <Link to="/" className="flex-shrink-0" onClick={closeMobileMenu}>
              <h1 className="text-xl sm:text-2xl font-bold text-mint hover:text-mint-dark transition-colors">
                ShockWave
              </h1>
            </Link>
            
            {/* Desktop Navigation Links */}
            <div className="hidden md:ml-8 md:flex md:space-x-4 lg:space-x-8">
              <Link to="/browse" className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-sm font-medium transition-all">
                Browse Designers
              </Link>
              <Link to="/listings" className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-sm font-medium transition-all">
                Find Work
              </Link>
            </div>
          </div>

          {/* Desktop Auth Section */}
          <div className="hidden md:flex items-center space-x-2 lg:space-x-4">
            {isAuthenticated && user ? (
              <>
                <Link to="/dashboard" className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-sm font-medium transition-all">
                  Dashboard
                </Link>
                <Link to="/messages" className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-sm font-medium transition-all">
                  Messages
                </Link>
                <div className="flex items-center space-x-3 border-l border-lightgray-dark pl-4 ml-2">
                  {/* Conditionally render the image only when avatarUrl is ready */}
                  {avatarUrl && <img src={avatarUrl} alt={user.name} className="w-8 h-8 rounded-full object-cover bg-lightgray" />}
                  <span className="text-sm text-charcoal hidden lg:inline">
                    Hello, {user.name}
                  </span>
                  <button onClick={handleLogout} className="bg-mint text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-mint-dark transition-colors">
                    Logout
                  </button>
                </div>
              </>
            ) : (
              <>
                <Link to="/login" className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-sm font-medium transition-all">
                  Login
                </Link>
                <Link to="/register" className="bg-mint text-white px-3 lg:px-4 py-2 rounded-md text-sm font-medium hover:bg-mint-dark transition-colors shadow-sm">
                  Sign Up
                </Link>
              </>
            )}
          </div>

          {/* Mobile Menu Button */}
          <div className="flex md:hidden">
            <button onClick={() => setMobileMenuOpen(!mobileMenuOpen)} className="inline-flex items-center justify-center p-2 rounded-md text-charcoal hover:text-mint hover:bg-mint/5 focus:outline-none" aria-expanded="false">
              <span className="sr-only">Open main menu</span>
              {!mobileMenuOpen ? (
                <svg className="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
              ) : (
                <svg className="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" /></svg>
              )}
            </button>
          </div>
        </div>
      </div>

      {/* Mobile Menu */}
      <AnimatePresence>
        {mobileMenuOpen && (
          <motion.div className="md:hidden border-t-2 border-mint" initial={{ opacity: 0, height: 0 }} animate={{ opacity: 1, height: 'auto' }} exit={{ opacity: 0, height: 0 }} transition={{ duration: 0.3 }}>
            <div className="px-2 pt-2 pb-3 bg-white shadow-lg flex flex-col gap-1">
              <Link to="/browse" onClick={closeMobileMenu} className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-base font-medium transition-all">Browse Designers</Link>
              <Link to="/listings" onClick={closeMobileMenu} className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-base font-medium transition-all">Find Work</Link>
              {isAuthenticated && user ? (
                <>
                  <div className="border-t border-lightgray-dark pt-2 mt-2">
                    <div className="px-3 py-2 text-sm text-charcoal-light">Logged in as <span className="font-medium text-charcoal">{user.name}</span></div>
                  </div>
                  <Link to="/dashboard" onClick={closeMobileMenu} className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-base font-medium transition-all">Dashboard</Link>
                  <Link to="/messages" onClick={closeMobileMenu} className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-base font-medium transition-all">Messages</Link>
                  <button onClick={handleLogout} className="w-full text-left text-white bg-mint hover:bg-mint-dark px-3 py-2 rounded-md text-base font-medium transition-colors mt-2">Logout</button>
                </>
              ) : (
                <div className="border-t border-lightgray-dark pt-2 mt-2 flex flex-col gap-1">
                  <Link to="/login" onClick={closeMobileMenu} className="text-charcoal hover:text-mint hover:bg-mint/5 px-3 py-2 rounded-md text-base font-medium transition-all">Login</Link>
                  <Link to="/register" onClick={closeMobileMenu} className="text-white bg-mint hover:bg-mint-dark px-3 py-2 rounded-md text-base font-medium transition-colors shadow-sm">Sign Up</Link>
                </div>
              )}
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </motion.nav>
  );
};

export default Navbar;
</file>

<file path="FrontEnd/pages/ListingDetail.jsx">
import { useState, useEffect } from 'react';
import { useParams, useNavigate, Link } from 'react-router-dom';
import { motion } from 'framer-motion';
import { listingAPI } from '../services/api';
import { useAuth } from '../context/AuthContext';
import ReviewForm from '../components/ReviewForm';

const ListingDetail = () => {
  const { id } = useParams();
  const { user, isAuthenticated } = useAuth();
  const navigate = useNavigate();
  
  // State for data
  const [listing, setListing] = useState(null);
  const [proposals, setProposals] = useState([]);
  const [loading, setLoading] = useState(true);
  
  // State for the proposal form
  const [proposalForm, setProposalForm] = useState({ message: '', price_offered: '', delivery_time: '' });
  const [submitError, setSubmitError] = useState('');
  const [isSubmitting, setIsSubmitting] = useState(false);
  
  // --- FIX: State for a potential order object when project is complete ---
  const [completedOrder, setCompletedOrder] = useState(null); 
  const [hasAlreadyReviewed, setHasAlreadyReviewed] = useState(false);

  useEffect(() => {
    const fetchListingData = async () => {
      if (!id) return;
      try {
        setLoading(true);
        const res = await listingAPI.getListing(id);
        setListing(res.data);

        // If the logged-in user is the owner of this listing, fetch proposals.
        if (isAuthenticated && user?.id === res.data.owner_id) {
          const proposalsRes = await listingAPI.getProposalsForListing(id);
          setProposals(proposalsRes.data);
          
          if (res.data.status === 'completed') {
             
            setCompletedOrder({
                id: 123, // Placeholder order ID
                seller_id: proposalsRes.data[0]?.designer_id || null // The designer to be reviewed
            });
          }
        }
      } catch (error) {
        console.error('Failed to fetch listing data:', error);
        if (error.response?.status === 404) navigate('/404'); // Or a "not found" page
      } finally {
        setLoading(false);
      }
    };
    fetchListingData();
  }, [id, user, isAuthenticated, navigate]);

  const handleProposalChange = (e) => {
    setProposalForm({ ...proposalForm, [e.target.name]: e.target.value });
  };
  
  const handleProposalSubmit = async (e) => {
    e.preventDefault();
    setIsSubmitting(true);
    setSubmitError('');
    try {
      await listingAPI.submitProposal(id, proposalForm);
      alert('Proposal submitted successfully!');
      navigate('/listings');
    } catch (err) {
      const errorMessage = err.response?.data?.error || 'Failed to submit proposal.';
      setSubmitError(errorMessage);
    } finally {
      setIsSubmitting(false);
    }
  };

  const handleReviewSubmitted = () => {
    alert("Thank you for your review!");
    setHasAlreadyReviewed(true);
  };

  const handleAcceptProposal = (proposalId) => {
    alert(`(Simulated) Accepting proposal ID: ${proposalId}. This will create an order and notify the designer.`);
    
  };

  if (loading) {
    return <div className="min-h-screen flex items-center justify-center"><div className="animate-spin rounded-full h-32 w-32 border-b-4 border-mint"></div></div>;
  }
  if (!listing) {
    return <div className="min-h-screen flex items-center justify-center"><h2 className="text-2xl font-bold text-charcoal">Listing not found.</h2></div>;
  }

  const isOwner = isAuthenticated && user?.id === listing.owner_id;
  // show the review form ---
  const showReviewForm = isOwner && listing.status === 'completed' && completedOrder && !hasAlreadyReviewed;
  const showProposalForm = isAuthenticated && user.role === 'designer' && !isOwner && listing.status === 'open';
  const SERVER_BASE_URL = import.meta.env.VITE_SERVER_URL || 'http://localhost:5000';

  return (
    <div className="min-h-screen bg-lightgray-light">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className="bg-white rounded-lg shadow-lg p-8">
          <div className="border-b pb-6 mb-6">
            <h1 className="text-4xl font-bold text-charcoal">{listing.title}</h1>
            <p className="text-charcoal-light mt-2">Posted by {listing.owner_name}</p>
          </div>
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div className="lg:col-span-2">
              <h2 className="text-2xl font-semibold text-charcoal mb-4">Project Description</h2>
              <p className="text-charcoal leading-relaxed whitespace-pre-wrap">{listing.description}</p>
            </div>
            <div className="lg:col-span-1">
              <div className="bg-lightgray-light p-6 rounded-lg">
                <h3 className="text-xl font-semibold text-charcoal mb-4">Project Details</h3>
                <div className="space-y-3">
                   <div>
                    <p className="text-sm text-charcoal-light">Status</p>
                    <p className="font-semibold text-lg capitalize">{listing.status}</p>
                  </div>
                  <div>
                    <p className="text-sm text-charcoal-light">Budget</p>
                    <p className="font-semibold text-mint text-lg">${listing.budget_min} - ${listing.budget_max}</p>
                  </div>
                  <div>
                    <p className="text-sm text-charcoal-light">Deadline</p>
                    <p className="font-semibold">{listing.deadline ? new Date(listing.deadline).toLocaleDateString() : 'Not specified'}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </motion.div>
        
        {isOwner && listing.status !== 'completed' && (
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{delay: 0.1}} className="bg-white rounded-lg shadow-lg p-8 mt-8">
            <h2 className="text-2xl font-semibold text-charcoal mb-6">Received Proposals ({proposals.length})</h2>
            <div className="space-y-6">
              {proposals.length > 0 ? (
                proposals.map(proposal => (
                  <div key={proposal.id} className="border border-lightgray rounded-lg p-4 transition-shadow hover:shadow-md">
                    <div className="flex flex-col sm:flex-row items-start justify-between">
                      <div className="flex items-center gap-3">
                        <img 
                          src={proposal.designer_avatar ? `${SERVER_BASE_URL}${proposal.designer_avatar}` : `https://ui-avatars.com/api/?name=${proposal.designer_name.replace(' ', '+')}`}
                          alt={proposal.designer_name}
                          className="w-12 h-12 rounded-full object-cover bg-lightgray"
                        />
                        <div>
                          <Link to={`/designer/${proposal.designer_id}`} className="font-bold text-charcoal hover:underline">{proposal.designer_name}</Link>
                          <p className="text-sm text-charcoal-light">{new Date(proposal.created_at).toLocaleDateString()}</p>
                        </div>
                      </div>
                      <div className="text-left sm:text-right mt-2 sm:mt-0">
                        <p className="font-bold text-lg text-mint">${proposal.price_offered}</p>
                        <p className="text-sm text-charcoal-light">{proposal.delivery_time} days delivery</p>
                      </div>
                    </div>
                    <p className="mt-4 text-charcoal-light bg-lightgray-light p-3 rounded-md">{proposal.message}</p>
                    <div className="mt-4 flex justify-end gap-3">
                      <button className="bg-charcoal text-white px-4 py-2 rounded-md hover:bg-charcoal-light transition-colors font-semibold text-sm">Message</button>
                      <button 
                        onClick={() => handleAcceptProposal(proposal.id)}
                        className="bg-mint text-white px-4 py-2 rounded-md hover:bg-mint-dark transition-colors font-semibold text-sm"
                      >
                        Accept Proposal
                      </button>
                    </div>
                  </div>
                ))
              ) : (
                <p className="text-charcoal-light">You have not received any proposals for this project yet.</p>
              )}
            </div>
          </motion.div>
        )}
        
        {showProposalForm && (
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{delay: 0.2}} className="bg-white rounded-lg shadow-lg p-8 mt-8">
            <h2 className="text-2xl font-semibold text-charcoal mb-6">Submit a Proposal</h2>
            <form onSubmit={handleProposalSubmit} className="space-y-4">
              {submitError && <div className="text-red-500 bg-red-100 p-3 rounded-md">{submitError}</div>}
              <div>
                <label htmlFor="message" className="block text-sm font-medium text-charcoal mb-1">Your Message</label>
                <textarea id="message" name="message" rows="5" required value={proposalForm.message} onChange={handleProposalChange} className="w-full p-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint" placeholder="Introduce yourself and explain why you're a great fit for this project..."></textarea>
              </div>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label htmlFor="price_offered" className="block text-sm font-medium text-charcoal mb-1">Your Price ($)</label>
                  <input id="price_offered" name="price_offered" type="number" required value={proposalForm.price_offered} onChange={handleProposalChange} className="w-full p-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint" placeholder="e.g., 1200" />
                </div>
                <div>
                  <label htmlFor="delivery_time" className="block text-sm font-medium text-charcoal mb-1">Delivery Time (days)</label>
                  <input id="delivery_time" name="delivery_time" type="number" required value={proposalForm.delivery_time} onChange={handleProposalChange} className="w-full p-2 border-2 border-lightgray-dark rounded-md focus:ring-mint focus:border-mint" placeholder="e.g., 14" />
                </div>
              </div>
              <div className="text-right">
                <button type="submit" disabled={isSubmitting} className="bg-mint text-white px-6 py-2 rounded-md hover:bg-mint-dark transition-colors disabled:opacity-50">{isSubmitting ? 'Submitting...' : 'Submit Proposal'}</button>
              </div>
            </form>
          </motion.div>
        )}
        
        {showReviewForm && (
          <ReviewForm 
            orderId={completedOrder.id}
            revieweeId={completedOrder.seller_id}
            onReviewSubmitted={handleReviewSubmitted}
          />
        )}
      </div>
    </div>
  );
};

export default ListingDetail;
</file>

<file path="FrontEnd/pages/Messages.jsx">
import { useState, useEffect, useRef } from 'react';
import { useLocation, useNavigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { messageAPI } from '../services/api';
import { io } from 'socket.io-client';

const socket = io(import.meta.env.VITE_API_URL || 'http://localhost:5000', {
  transports: ['polling', 'websocket']
});

const Messages = () => {
  const { user } = useAuth();
  const location = useLocation();
  const navigate = useNavigate();
  
  const [threads, setThreads] = useState([]);
  const [activeThread, setActiveThread] = useState(null);
  const [messages, setMessages] = useState([]);
  const [newMessage, setNewMessage] = useState('');
  const [loading, setLoading] = useState(true);
  
  const messagesEndRef = useRef(null);

  const fetchThreads = async () => {
    if (!user) return [];
    setLoading(true);
    try {
      const res = await messageAPI.getThreads();
      setThreads(res.data);
      return res.data;
    } catch (error) {
      console.error("Failed to fetch threads:", error);
      return [];
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    if (user) {
      // Connect and join room
      socket.connect();
      socket.emit('join_room', user.id);

      // Listener for incoming messages
      const handleReceiveMessage = (message) => {
        // If the message belongs to the currently open chat, add it to the view
        if (activeThread && message.thread_id === activeThread.thread_id) {
          setMessages((prev) => [...prev, message]);
        }
        // Always refresh the thread list to show the new "last message"
        fetchThreads();
      };
      socket.on('receive_message', handleReceiveMessage);

      // Initial data load
      const initialize = async () => {
        const allThreads = await fetchThreads();
        const newConversationUser = location.state?.newConversationWith;

        if (newConversationUser) {
          const existingThread = allThreads.find(t => t.participant_id === newConversationUser.id);
          if (existingThread) {
            handleThreadClick(existingThread);
          } else {
            const placeholder = {
              thread_id: [user.id, newConversationUser.id].sort().join('-'),
              participant_id: newConversationUser.id,
              participant_name: newConversationUser.name,
              last_message: 'Start the conversation!',
              isPlaceholder: true,
            };
            setThreads(prev => [placeholder, ...prev]);
            setActiveThread(placeholder);
            setMessages([]);
          }
          navigate(location.pathname, { replace: true });
        }
      };
      initialize();
      
      return () => {
        socket.off('receive_message', handleReceiveMessage);
        socket.disconnect();
      };
    }
  }, [user]);

  useEffect(() => {
    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
  }, [messages]);

  const handleThreadClick = async (thread) => {
    setActiveThread(thread);
    if (thread.isPlaceholder) {
      setMessages([]);
      return;
    }
    try {
      const res = await messageAPI.getMessages(thread.participant_id);
      setMessages(res.data);
    } catch (error) {
      console.error("Failed to fetch messages:", error);
    }
  };
  
  const handleSendMessage = (e) => {
    e.preventDefault();
    if (newMessage.trim() === '' || !activeThread) return;
    
    // Only emit the event to the server. The server is the source of truth.
    // The server will save it, broadcast it back, and our `receive_message` listener will then add it to the UI.
    socket.emit('send_message', {
      sender_id: user.id,
      recipient_id: activeThread.participant_id,
      body: newMessage,
    });
    setNewMessage('');
  };

  if (loading) {
    return <div className="p-4 text-center">Loading conversations...</div>;
  }

  return (
    <div className="h-[calc(100vh-8rem)] flex bg-white max-w-7xl mx-auto my-8 rounded-lg shadow-lg border-2 border-mint/20 overflow-hidden">
      <div className="w-1/3 border-r-2 border-lightgray flex flex-col">
        <div className="p-4 border-b-2 border-lightgray">
          <h2 className="text-xl font-bold text-charcoal">Conversations</h2>
        </div>
        <div className="overflow-y-auto flex-1">
          {threads.length === 0 ? (
            <p className="p-4 text-charcoal-light">No conversations yet.</p>
          ) : (
            <ul>
              {threads.map(thread => (
                <li key={thread.thread_id} onClick={() => handleThreadClick(thread)} className={`p-4 cursor-pointer hover:bg-lightgray-light border-b border-lightgray ${activeThread?.thread_id === thread.thread_id ? 'bg-mint/10' : ''}`}>
                  <p className="font-semibold text-charcoal">{thread.participant_name}</p>
                  <p className="text-sm text-charcoal-light truncate">{thread.last_message}</p>
                </li>
              ))}
            </ul>
          )}
        </div>
      </div>
      <div className="w-2/3 flex flex-col bg-lightgray-light">
        {activeThread ? (
          <>
            <div className="p-4 border-b-2 border-lightgray bg-white flex items-center">
              <h2 className="text-xl font-bold text-charcoal">{activeThread.participant_name}</h2>
            </div>
            <div className="flex-1 p-4 overflow-y-auto">
                {messages.map((msg, index) => (
                  <div key={msg.id || `temp-${index}`} className={`flex ${msg.sender_id === user.id ? 'justify-end' : 'justify-start'} mb-4`}>
                    <div className={`max-w-md p-3 rounded-lg shadow-sm ${msg.sender_id === user.id ? 'bg-mint text-white' : 'bg-white text-charcoal'}`}>
                      <p>{msg.body}</p>
                      <p className={`text-xs mt-1 text-right ${msg.sender_id === user.id ? 'text-lightgray' : 'text-charcoal-light'}`}>{new Date(msg.created_at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>
                    </div>
                  </div>
                ))}
              <div ref={messagesEndRef} />
            </div>
            <div className="p-4 bg-white border-t-2 border-lightgray">
              <form onSubmit={handleSendMessage} className="flex">
                <input type="text" value={newMessage} onChange={(e) => setNewMessage(e.target.value)} placeholder="Type a message..." className="flex-1 p-2 border-2 border-lightgray-dark rounded-l-lg focus:ring-mint focus:border-mint"/>
                <button type="submit" className="px-4 py-2 bg-mint text-white rounded-r-lg hover:bg-mint-dark font-semibold">Send</button>
              </form>
            </div>
          </>
        ) : (
          <div className="flex-1 flex items-center justify-center text-charcoal-light">
            <p>Select a conversation to start chatting.</p>
          </div>
        )}
      </div>
    </div>
  );
};

export default Messages;
</file>

<file path="FrontEnd/pages/Profile.jsx">
import { useParams, useNavigate } from 'react-router-dom';
import { useState, useEffect } from 'react';
import { profileAPI, reviewAPI } from '../services/api';
import { motion } from 'framer-motion';
import { useAuth } from '../context/AuthContext';

const StarRating = ({ rating, reviewCount }) => {
  if (!rating) return <div className="text-sm text-charcoal-light">No reviews yet</div>;
  const fullStars = Math.floor(rating);
  const halfStar = rating % 1 !== 0;
  const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);

  return (
    <div className="flex items-center">
      {[...Array(fullStars)].map((_, i) => <span key={`full_${i}`} className="text-yellow-400 text-xl">‚òÖ</span>)}
      {halfStar && <span className="text-yellow-400 text-xl">‚òÜ</span>}
      {[...Array(emptyStars)].map((_, i) => <span key={`empty_${i}`} className="text-gray-300 text-xl">‚òÖ</span>)}
      {reviewCount > 0 && <span className="ml-2 text-charcoal-light text-sm">({reviewCount} reviews)</span>}
    </div>
  );
};

const Profile = () => {
  const { id } = useParams();
  const { user, isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const [profile, setProfile] = useState(null);
  const [reviews, setReviews] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchProfileData = async () => {
      try {
        setLoading(true);
        // Fetch both profile and reviews at the same time for efficiency
        const [profileRes, reviewsRes] = await Promise.all([
          profileAPI.getProfile(id),
          reviewAPI.getReviewsForUser(id)
        ]);
        setProfile(profileRes.data);
        setReviews(reviewsRes.data);
      } catch (error) {
        console.error('Failed to fetch profile data:', error);
        // This will stop the loading spinner even if there's an error
      } finally {
        setLoading(false);
      }
    };
    fetchProfileData();
  }, [id]);

  const handleContact = () => {
    navigate('/messages', { 
      state: { 
        newConversationWith: {
          id: profile.user_id,
          name: profile.name,
        } 
      } 
    });
  };

  // Display a loading indicator while fetching data
  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <div className="animate-spin rounded-full h-32 w-32 border-b-4 border-mint"></div>
      </div>
    );
  }

  // Display an error message if the profile could not be loaded
  if (!profile) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <h2 className="text-2xl font-bold text-charcoal">Designer profile not found.</h2>
      </div>
    );
  }

  // --- THIS IS THE DEFINITIVE FIX ---
  // The base URL for static files should NOT include '/api'.
  const SERVER_BASE_URL = import.meta.env.VITE_SERVER_URL || 'http://localhost:5000';
  
  const avatarUrl = profile.avatar_url
    ? `${SERVER_BASE_URL}${profile.avatar_url}`
    : `https://ui-avatars.com/api/?name=${profile.name.replace(' ', '+')}&background=DFE6E9&color=2D3436`;
    
  const showContactButton = isAuthenticated && user?.role === 'business' && user?.id !== profile.user_id;

  return (
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} className="bg-white rounded-lg shadow-lg overflow-hidden">
        {/* Header */}
        <div className="bg-gradient-to-r from-charcoal to-charcoal-light p-8 text-white">
          <div className="flex flex-col sm:flex-row items-center gap-6">
            <img 
              src={avatarUrl} 
              alt={profile.name}
              className="w-24 h-24 rounded-full object-cover border-4 border-mint bg-white"
            />
            <div>
              <h1 className="text-3xl font-bold">{profile.name}</h1>
              <p className="text-xl capitalize text-lightgray">{profile.role}</p>
              <div className="mt-2">
                <StarRating rating={profile.avg_rating} reviewCount={profile.review_count} />
              </div>
            </div>
          </div>
        </div>

        {/* Content */}
        <div className="p-8">
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {/* Main Content */}
            <div className="lg:col-span-2">
              <section className="mb-8">
                <h2 className="text-2xl font-bold text-charcoal mb-4">About Me</h2>
                <p className="text-charcoal-light leading-relaxed">{profile.bio || 'No bio available.'}</p>
              </section>
              <section>
                <h2 className="text-2xl font-bold text-charcoal mb-4">Reviews</h2>
                <div className="space-y-6">
                  {reviews.length > 0 ? (
                    reviews.map(review => (
                      <div key={review.id} className="border-b border-lightgray pb-4 last:border-b-0">
                        <div className="flex items-center mb-2">
                          <StarRating rating={review.rating} />
                          <p className="ml-auto text-sm text-charcoal-light">{new Date(review.created_at).toLocaleDateString()}</p>
                        </div>
                        <p className="text-charcoal">{review.comment}</p>
                        <p className="text-sm font-semibold text-charcoal-light mt-2">- {review.reviewer_name}</p>
                      </div>
                    ))
                  ) : (
                    <p className="text-charcoal-light">This user has not received any reviews yet.</p>
                  )}
                </div>
              </section>
            </div>

            {/* Sidebar */}
            <div className="lg:col-span-1">
              <div className="bg-lightgray-light p-6 rounded-lg sticky top-24">
                <h3 className="text-lg font-semibold text-charcoal mb-4">Quick Info</h3>
                
                {profile.hourly_rate && (
                  <div className="mb-4">
                    <p className="text-sm text-charcoal-light">Hourly Rate</p>
                    <p className="text-2xl font-bold text-mint">${profile.hourly_rate}/hr</p>
                  </div>
                )}
                
                <div className="mb-4">
                  <p className="text-sm text-charcoal-light">Member Since</p>
                  <p className="font-medium">
                    {new Date(profile.user_created_at).toLocaleDateString()}
                  </p>
                </div>

                {showContactButton && (
                  <button 
                    onClick={handleContact}
                    className="w-full bg-mint text-white py-3 px-4 rounded-md hover:bg-mint-dark transition-colors font-semibold"
                  >
                    Contact Designer
                  </button>
                )}
              </div>
            </div>
          </div>
        </div>
      </motion.div>
    </div>
  );
};

export default Profile;
</file>

<file path="FrontEnd/pages/ProfileEdit.jsx">
import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';
import { profileAPI, uploadAPI } from '../services/api';
import { motion } from 'framer-motion';

const ProfileEdit = () => {
  const { user, loading: authLoading } = useAuth();
  const navigate = useNavigate();

  // State for form fields
  const [formData, setFormData] = useState({
    bio: '',
    skills: '',
    location: '',
    hourly_rate: ''
  });

  // State for file handling
  const [avatarFile, setAvatarFile] = useState(null);
  const [avatarPreview, setAvatarPreview] = useState('');
  
  // State for loading and errors
  const [isLoading, setIsLoading] = useState(false);
  const [error, setError] = useState(null);
  const [pageLoading, setPageLoading] = useState(true);

  // Fetch existing profile data when the component loads
  useEffect(() => {
    if (!authLoading && user) {
      const fetchProfile = async () => {
        try {
          const res = await profileAPI.getProfile(user.id);
          setFormData({
            bio: res.data.bio || '',
            skills: (res.data.skills || []).join(', '), // Convert array to comma-separated string for the input
            location: res.data.location || '',
            hourly_rate: res.data.hourly_rate || ''
          });
          if (res.data.avatar_url) {
            setAvatarPreview(`${import.meta.env.VITE_API_URL || 'http://localhost:5000'}${res.data.avatar_url}`);
          }
        } catch (err) {
          console.error('Failed to fetch profile', err);
          setError('Could not load your profile data.');
        } finally {
          setPageLoading(false);
        }
      };
      fetchProfile();
    }
  }, [user, authLoading]);

  // Handle changes to form inputs
  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
  };

  // Handle file selection for the avatar
  const handleFileChange = (e) => {
    const file = e.target.files[0];
    if (file) {
      setAvatarFile(file);
      setAvatarPreview(URL.createObjectURL(file)); // Create a temporary URL for preview
    }
  };

  // Handle the form submission
  const handleSubmit = async (e) => {
    e.preventDefault();
    setIsLoading(true);
    setError(null);
    try {
      // Step 1: Upload avatar if a new one is selected
      if (avatarFile) {
        const uploadFormData = new FormData();
        uploadFormData.append('avatar', avatarFile);
        await uploadAPI.uploadAvatar(uploadFormData);
      }
      
      // Step 2: Update the rest of the profile data
      const profileData = {
        ...formData,
        // Convert the comma-separated string back to an array for the backend
        skills: formData.skills.split(',').map(skill => skill.trim()).filter(Boolean),
        hourly_rate: formData.hourly_rate ? parseFloat(formData.hourly_rate) : null,
      };
      await profileAPI.updateProfile(user.id, profileData);
      
      alert("Profile updated successfully!");
      navigate('/dashboard');
    } catch (err) {
      console.error('Failed to update profile', err);
      setError(err.response?.data?.error || 'Failed to update profile. Please try again.');
    } finally {
      setIsLoading(false);
    }
  };
  
  if (pageLoading || authLoading) {
    return <div className="min-h-screen flex items-center justify-center">Loading profile...</div>;
  }

  return (
    <div className="min-h-screen bg-lightgray-light py-12 px-4 sm:px-6 lg:px-8">
      <motion.div
        className="max-w-3xl mx-auto"
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.5 }}
      >
        <div className="bg-white rounded-2xl shadow-xl p-8 border-2 border-mint/20">
          <h1 className="text-3xl font-bold text-charcoal mb-6">Edit Your Profile</h1>
          <form onSubmit={handleSubmit} className="space-y-6">
            {error && <div className="text-red-500 bg-red-100 p-3 rounded-md">{error}</div>}
            
            {/* Avatar Upload Section */}
            <div>
              <label className="block text-sm font-medium text-charcoal mb-2">Profile Picture</label>
              <div className="flex items-center gap-4">
                <img 
                  src={avatarPreview || `https://ui-avatars.com/api/?name=${user.name.replace(' ', '+')}&background=00CEC9&color=fff`} 
                  alt="Avatar Preview" 
                  className="w-20 h-20 rounded-full object-cover border-2 border-lightgray"
                />
                <input 
                  type="file" 
                  id="avatar" 
                  name="avatar" 
                  accept="image/png, image/jpeg, image/gif"
                  onChange={handleFileChange}
                  className="block w-full text-sm text-charcoal file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-mint/10 file:text-mint hover:file:bg-mint/20 cursor-pointer"
                />
              </div>
            </div>

            {/* Bio */}
            <div>
              <label htmlFor="bio" className="block text-sm font-medium text-charcoal mb-2">Bio</label>
              <textarea id="bio" name="bio" rows="4" className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="Tell everyone a little about yourself" value={formData.bio} onChange={handleChange}></textarea>
            </div>

            {/* Skills */}
            <div>
              <label htmlFor="skills" className="block text-sm font-medium text-charcoal mb-2">Skills (comma separated)</label>
              <input id="skills" name="skills" type="text" className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="e.g., Logo Design, Branding, UI/UX" value={formData.skills} onChange={handleChange} />
            </div>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              {/* Location */}
              <div>
                <label htmlFor="location" className="block text-sm font-medium text-charcoal mb-2">Location</label>
                <input id="location" name="location" type="text" className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="e.g., New York, USA" value={formData.location} onChange={handleChange} />
              </div>
              {/* Hourly Rate (Only for Designers) */}
              {user.role === 'designer' && (
                <div>
                  <label htmlFor="hourly_rate" className="block text-sm font-medium text-charcoal mb-2">Hourly Rate ($)</label>
                  <input id="hourly_rate" name="hourly_rate" type="number" step="0.01" className="w-full px-4 py-3 border-2 border-lightgray-dark rounded-lg focus:outline-none focus:ring-2 focus:ring-mint" placeholder="e.g., 50" value={formData.hourly_rate} onChange={handleChange} />
                </div>
              )}
            </div>
            
            <div className="flex justify-end gap-4 pt-4">
              <button type="button" onClick={() => navigate('/dashboard')} className="px-6 py-2 rounded-lg text-charcoal bg-lightgray hover:bg-lightgray-dark">Cancel</button>
              <button type="submit" disabled={isLoading} className="px-6 py-2 rounded-lg text-white bg-mint hover:bg-mint-dark disabled:opacity-50">{isLoading ? 'Saving...' : 'Save Changes'}</button>
            </div>
          </form>
        </div>
      </motion.div>
    </div>
  );
};

export default ProfileEdit;
</file>

<file path="FrontEnd/services/api.js">
import axios from 'axios';

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000/api';

// Create axios instance
const api = axios.create({
  baseURL: API_BASE_URL,
  withCredentials: true,
});

// Request interceptor to add auth token
api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('accessToken');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

// Response interceptor to handle token refresh
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    const originalRequest = error.config;
    if (error.response?.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;
      try {
        const response = await axios.post(`${API_BASE_URL}/auth/refresh`, {}, { withCredentials: true });
        const { accessToken } = response.data;
        localStorage.setItem('accessToken', accessToken);
        originalRequest.headers.Authorization = `Bearer ${accessToken}`;
        return api(originalRequest);
      } catch (refreshError) {
        localStorage.removeItem('accessToken');
        window.location.href = '/login';
        return Promise.reject(refreshError);
      }
    }
    return Promise.reject(error);
  }
);

// --- API Service Objects ---

export const authAPI = {
  register: (userData) => api.post('/auth/register', userData),
  login: (username, password) => api.post('/auth/login', { username, password }),
  logout: () => api.post('/auth/logout'),
  getCurrentUser: () => api.get('/auth/me'),
  refreshToken: () => api.post('/auth/refresh'),
};

export const profileAPI = {
  getProfile: (id) => api.get(`/profiles/${id}`),
  updateProfile: (id, data) => api.put(`/profiles/${id}`, data),
  searchProfiles: (params) => api.get('/profiles', { params }),
};

export const dashboardAPI = {
  getStats: () => api.get('/dashboard/stats'),
};

export const listingAPI = {
  getListings: () => api.get('/listings'),
  getListing: (id) => api.get(`/listings/${id}`),
  createListing: (data) => api.post('/listings', data),
  submitProposal: (listingId, data) => api.post(`/listings/${listingId}/proposals`, data),
  getProposalsForListing: (listingId) => api.get(`/listings/${listingId}/proposals`),
};

export const orderAPI = {
  getOrders: () => api.get('/orders'),
  getOrder: (id) => api.get(`/orders/${id}`),
  createOrder: (data) => api.post('/orders', data),
  updateOrderStatus: (id, status) => api.patch(`/orders/${id}/status`, { status }),
};

export const messageAPI = {
  getThreads: () => api.get('/messages/threads'),
  getMessages: (participantId) => api.get(`/messages/threads/${participantId}`),
};

export const reviewAPI = {
  createReview: (data) => api.post('/reviews', data),
  getReviewsForUser: (userId) => api.get(`/reviews/user/${userId}`),
};

export const uploadAPI = {
  uploadAvatar: (formData) => api.post('/uploads/avatar', formData, {
    headers: { 'Content-Type': 'multipart/form-data' },
  }),
};

export const adminAPI = {
  getUsers: (params) => api.get('/admin/users', { params }),
  suspendUser: (id) => api.patch(`/admin/users/${id}/suspend`),
  getAnalytics: () => api.get('/admin/analytics'),
};

export default api;
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåä</text></svg>" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="ShockWave - Connect graphic designers with businesses. A marketplace for creative talent." />
    <title>ShockWave - Digital Marketplace for Designers</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- 
      BEFORE: <script type="module" src="/src/main.jsx"></script>
      AFTER:
    -->
    <script type="module" src="/FrontEnd/main.jsx"></script>
  </body>
</html>
</file>

<file path="tailwind.config.js">
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    // BEFORE: "./src/**/*.{js,ts,jsx,tsx}",
    // AFTER:
    "./FrontEnd/**/*.{js,ts,jsx,tsx}", 
  ],
  theme: {
    extend: {
      colors: {
        charcoal: {
          DEFAULT: '#2D3436',
          light: '#3d4547',
          dark: '#1d2426',
        },
        lightgray: {
          DEFAULT: '#DFE6E9',
          light: '#F5F7F8',
          dark: '#B2BEC3',
        },
        mint: {
          DEFAULT: '#00CEC9',
          light: '#55EFC4',
          dark: '#00B894',
        },
        primary: {
          50: '#e6fffe',
          100: '#b3fffc',
          200: '#80fffa',
          300: '#4dffef',
          400: '#1afff7',
          500: '#00CEC9',
          600: '#00b5b0',
          700: '#009c98',
          800: '#008380',
          900: '#006a68',
        }
      },
      animation: {
        'fade-in': 'fadeIn 0.5s ease-in-out',
        'slide-up': 'slideUp 0.3s ease-out',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { transform: 'translateY(10px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        }
      }
    },
  },
  plugins: [],
}
</file>

<file path="package.json">
{
  "name": "digital-marketplace",
  "private": true,
  "version": "1.0.0",
  "description": "A two-sided marketplace connecting graphic designers with businesses",
  "type": "module",
  "scripts": {
    "dev": "concurrently \"npm run dev:client\" \"npm run dev:server\"",
    "dev:client": "vite",
    "dev:server": "cd BackEnd && npm run dev",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview",
    "server:install": "cd BackEnd && npm install",
    "install:all": "npm install && npm run server:install"
  },
  "dependencies": {
    "react": "^19.1.1",
    "react-dom": "^19.1.1",
    "react-router-dom": "^6.28.0",
    "axios": "^1.7.9",
    "framer-motion": "^11.15.0",
    "socket.io-client": "4.7.5"
  },
  "devDependencies": {
    "@eslint/js": "^9.36.0",
    "@types/react": "^19.1.16",
    "@types/react-dom": "^19.1.9",
    "@vitejs/plugin-react": "^5.0.4",
    "eslint": "^9.36.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.22",
    "globals": "^16.4.0",
    "vite": "^7.1.7",
    "tailwindcss": "^3.4.14",
    "autoprefixer": "^10.4.20",
    "postcss": "^8.4.49",
    "concurrently": "^8.2.2",
    "@testing-library/react": "^16.1.0",
    "@testing-library/jest-dom": "^6.6.3",
    "vitest": "^2.1.8"
  }
}
</file>

<file path="README.md">
# ShockWave - Digital Marketplace Platform

> A comprehensive two-sided marketplace platform connecting talented graphic designers with businesses seeking creative services.

[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-v18+-green.svg)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-19-blue.svg)](https://reactjs.org/)

**Live Demo** | [Documentation](#-documentation) | [Contributing](#-contributing) | [Support](#-support)

---

## Table of Contents

- [Features](#-features)
- [Tech Stack](#-tech-stack)
- [Getting Started](#-getting-started)
- [Project Structure](#-project-structure)
- [Configuration](#-configuration)
- [Testing](#-testing)
- [Documentation](#-documentation)
- [Deployment](#-deployment)
- [Troubleshooting](#-troubleshooting)

---

## Features

### For Designers
- **Professional Profiles** - Showcase skills, portfolio, and experience
- **Project Discovery** - Browse and bid on exciting design projects
- **Secure Payments** - Safe payment processing through integrated gateway
- **Portfolio Management** - Display your best work to attract clients
- **Direct Messaging** - Real-time communication with potential clients
- **Review System** - Build reputation through client reviews

###  For Businesses
- **Easy Project Posting** - Quick and efficient project creation
- **Designer Discovery** - Browse and filter talented designers
- **Proposal Management** - Review and compare designer proposals
- **Project Tracking** - Monitor progress from start to finish
- **Review System** - Rate designers for future references
- **Secure Payments** - Escrow-based payment protection

### For Administrators
- **User Management** - Comprehensive user oversight
- **Content Moderation** - Platform quality control
- **Transaction Monitoring** - Financial oversight
- **Dispute Resolution** - Conflict management tools
- **Platform Analytics** - Detailed insights and metrics

---


## Tech Stack

### Frontend
| Technology | Version | Purpose |
|------------|---------|---------|
| **React** | 19.1.1 | Modern UI library with latest features |
| **Vite** | 7.1.7 | Lightning-fast build tool and dev server |
| **Tailwind CSS** | 3.4.14 | Utility-first CSS framework |
| **Framer Motion** | 11.15.0 | Smooth animations and transitions |
| **React Router** | 6.28.0 | Client-side routing and navigation |
| **Axios** | 1.7.9 | HTTP client for API requests |
| **Socket.io Client** | 4.7.5 | Real-time bidirectional communication |

### Backend
| Technology | Version | Purpose |
|------------|---------|---------|
| **Node.js** | 18+ | JavaScript runtime environment |
| **Express** | 4.21.1 | Fast, minimalist web framework |
| **SQLite** | via better-sqlite3 | Lightweight database (PostgreSQL-ready) |
| **JWT** | 9.0.2 | Secure authentication tokens |
| **Bcrypt** | 5.1.1 | Password hashing and encryption |
| **Stripe** | 17.3.1 | Payment processing integration |
| **Socket.io** | 4.7.5 | Real-time server communication |
| **Multer** | 1.4.5 | File upload handling |
| **Sharp** | 0.33.5 | Image processing and optimization |

### DevOps & Tools
- **ESLint** - Code linting and quality
- **Vitest** - Fast unit testing framework
- **Concurrently** - Run multiple commands simultaneously
- **Nodemon** - Auto-restart development server
- **Helmet** - Security middleware
- **Morgan** - HTTP request logger

---

## Getting Started

### Prerequisites

Before you begin, ensure you have the following installed:
- **Node.js** (v18 or higher) - [Download](https://nodejs.org/)
- **npm** (v9 or higher) - Comes with Node.js
- **Git** - [Download](https://git-scm.com/)

### Installation

#### 1. Clone the Repository

```bash
git clone https://github.com/owen-stud123/ShockWave.git
cd ShockWave
```

#### 2. Install Dependencies

```bash
# Install frontend dependencies
npm install

# Install backend dependencies
npm run server:install

# Or install both at once
npm run install:all
```

#### 3. Environment Setup

Create a `.env` file in the `BackEnd` directory:

```bash
cd BackEnd
cp .env.example .env
```

Edit the `.env` file with your configuration:

```env
# Server Configuration
PORT=5000
NODE_ENV=development

# Database
DATABASE_URL=./database.sqlite

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Stripe Payment (Get your keys from https://stripe.com)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Email Configuration (Optional - for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Frontend URL
FRONTEND_URL=http://localhost:5173

# File Upload
MAX_FILE_SIZE=5242880
UPLOAD_PATH=./uploads
```

#### 4. Initialize Database

```bash
# From BackEnd directory
node scripts/init.js

# Or use npm script
npm run db:init
```

This creates the database schema and seeds test accounts.

#### 5. Start Development Servers

```bash
# From project root - starts both frontend and backend
npm run dev
```

Or start them separately:

```bash
# Terminal 1 - Frontend (from project root)
npm run dev:client

# Terminal 2 - Backend (from project root)
npm run dev:server
```

#### 6. Access the Application

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:5000
- **API Documentation**: http://localhost:5000/api-docs (if available)

---

## Configuration

### Environment Variables

The backend requires several environment variables. Create a `.env` file in the `BackEnd` directory:

| Variable | Description | Required | Default |
|----------|-------------|----------|---------|
| `PORT` | Server port | No | 5000 |
| `NODE_ENV` | Environment | No | development |
| `DATABASE_URL` | SQLite database path | No | ./database.sqlite |
| `JWT_SECRET` | Secret for JWT signing | **Yes** | - |
| `JWT_EXPIRES_IN` | Token expiration | No | 7d |
| `STRIPE_SECRET_KEY` | Stripe secret key | For payments | - |
| `STRIPE_PUBLISHABLE_KEY` | Stripe public key | For payments | - |
| `FRONTEND_URL` | Frontend URL for CORS | No | http://localhost:5173 |
| `MAX_FILE_SIZE` | Max upload size (bytes) | No | 5242880 (5MB) |
| `UPLOAD_PATH` | File upload directory | No | ./uploads |

### Database Configuration

The project uses **SQLite** for development, with a clear migration path to **PostgreSQL** for production.

**SQLite** (Development):
- Zero configuration required
- File-based database
- Perfect for local development
- Located at `BackEnd/database.sqlite`

**PostgreSQL** (Production - Optional):
- Update `DATABASE_URL` in `.env`
- Run migration scripts
- Better performance for production

---

## Testing

### Test Accounts

After running `npm run db:init`, the following test accounts are available:

| Role | Username | Password | Email |
|------|----------|----------|-------|
| **Designer** | `designer_creative` | `design2024` | designer@example.com |
| **Business** | `business_startup` | `startup2024` | business@example.com |
| **Admin** | `admin_master` | `admin2024` | admin@designmarket.com |

> **Security Warning**: Change these credentials in production!

### Quick Login Feature

The login page includes quick-access buttons for test accounts during development. These auto-fill credentials for faster testing.

### Running Tests

```bash
# Frontend tests
npm run test

# Backend tests
cd BackEnd
npm run test

# Watch mode
npm run test:watch

# Coverage report
npm run test:coverage
```

### Manual Testing Checklist

See [TESTING_GUIDE.md](./TESTING_GUIDE.md) for comprehensive testing instructions:

- User registration and login
- Designer profile creation
- Business project posting
- Proposal submission
- Messaging system
- Payment flow
- Review system
- Admin panel functions

---

---

## Documentation

Comprehensive documentation is available to help you understand and navigate the platform:

### Core Documentation

| Document | Description | Best For |
|----------|-------------|----------|
| **[DOCUMENTATION_INDEX.md](./DOCUMENTATION_INDEX.md)** | Central hub for all documentation | Finding what you need |
| **[USER_FLOW.md](./USER_FLOW.md)** | Detailed user journey documentation | UX design, testing |
| **[PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md)** | Visual flow diagrams & architecture | System understanding |
| **[QUICK_REFERENCE.md](./QUICK_REFERENCE.md)** | Developer quick reference guide | Day-to-day development |
| **[TESTING_GUIDE.md](./TESTING_GUIDE.md)** | Testing procedures and credentials | QA and testing |
| **[TEST_CREDENTIALS.md](./TEST_CREDENTIALS.md)** | All test account information | Quick credential lookup |
| **[ERROR_CHECK_REPORT.md](./ERROR_CHECK_REPORT.md)** | Known issues and solutions | Troubleshooting |

### Documentation Highlights

**For First-Time Users:**
1. Start with this README
2. Review [USER_FLOW.md](./USER_FLOW.md) for user journeys
3. Check [TESTING_GUIDE.md](./TESTING_GUIDE.md) for test accounts

**For Developers:**
1. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Routes, API endpoints, patterns
2. [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Architecture diagrams
3. [ERROR_CHECK_REPORT.md](./ERROR_CHECK_REPORT.md) - Common issues

**For Designers/UX:**
1. [USER_FLOW.md](./USER_FLOW.md) - Complete user journeys
2. [PLATFORM_FLOW_DIAGRAM.md](./PLATFORM_FLOW_DIAGRAM.md) - Visual flows
3. [QUICK_REFERENCE.md](./QUICK_REFERENCE.md) - Color palette & UI patterns

---

## Platform Routes

### Public Routes (No Authentication Required)

| Route | Component | Description |
|-------|-----------|-------------|
| `/` | Home | Landing page with platform overview |
| `/login` | Login | User authentication page |
| `/register` | Register | New user registration |
| `/browse` | Browse | Browse designers (public listings) |
| `/listings` | Listings | View all project listings |
| `/listing/:id` | ListingDetail | Individual project details |
| `/designer/:id` | Profile | Public designer profile view |

### Protected Routes (Authentication Required)

| Route | Component | Access | Description |
|-------|-----------|--------|-------------|
| `/dashboard` | Dashboard | All authenticated | Role-based dashboard |
| `/profile` | Profile | All authenticated | User profile management |
| `/profile/edit` | ProfileEdit | All authenticated | Edit profile information |
| `/messages` | Messages | All authenticated | Direct messaging system |
| `/create-listing` | CreateListing | Designer only | Create new service listing |
| `/checkout/:orderId` | Checkout | Business only | Payment processing |
| `/admin` | AdminPanel | Admin only | Platform administration |

---

## User Roles & Capabilities

### Designer Role

**Capabilities:**
- ‚úÖ Create and manage professional profile
- ‚úÖ Upload and showcase portfolio
- ‚úÖ Browse available projects
- ‚úÖ Submit proposals to businesses
- ‚úÖ Create service listings (gigs)
- ‚úÖ Receive payments via platform
- ‚úÖ Communicate with clients
- ‚úÖ Receive and respond to reviews

**Restrictions:**
- ‚ùå Cannot post projects
- ‚ùå Cannot hire other designers
- ‚ùå Cannot access admin panel

### üíº Business Role

**Capabilities:**
- ‚úÖ Create company profile
- ‚úÖ Post project requirements
- ‚úÖ Browse designer portfolios
- ‚úÖ Review designer proposals
- ‚úÖ Hire designers
- ‚úÖ Make secure payments
- ‚úÖ Communicate with designers
- ‚úÖ Leave reviews and ratings

**Restrictions:**
- ‚ùå Cannot create service listings
- ‚ùå Cannot apply to projects
- ‚ùå Cannot access admin panel

### Admin Role

**Capabilities:**
- ‚úÖ All Designer and Business capabilities
- ‚úÖ User management (create, edit, delete)
- ‚úÖ Content moderation
- ‚úÖ Transaction monitoring
- ‚úÖ Dispute resolution
- ‚úÖ Platform analytics and reporting
- ‚úÖ System configuration

**Full Access:** All platform features and controls

---

## Deployment

### Production Build

```bash
# Build frontend for production
npm run build

# Preview production build locally
npm run preview
```

### Environment Setup

1. **Update Environment Variables**
   - Set `NODE_ENV=production`
   - Use strong `JWT_SECRET`
   - Configure production database
   - Add production Stripe keys
   - Set up production email server

2. **Database Migration**
   - Migrate from SQLite to PostgreSQL (recommended)
   - Run production database scripts
   - Set up database backups

3. **Security Checklist**
   - Change all default passwords
   - Enable HTTPS/SSL
   - Configure CORS properly
   - Set up rate limiting
   - Enable Helmet security headers
   - Configure CSP (Content Security Policy)
   - Set up monitoring and logging

### Deployment Platforms

**Recommended Platforms:**

**Frontend:**
- **Vercel** - Optimized for React/Vite (Recommended)
- **Netlify** - Easy deployment with CI/CD
- **AWS Amplify** - Full-featured hosting
- **Cloudflare Pages** - Fast global CDN

**Backend:**
- **Heroku** - Simple deployment
- **Railway** - Modern platform
- **DigitalOcean App Platform** - Scalable hosting
- **AWS EC2/Elastic Beanstalk** - Full control
- **Google Cloud Run** - Containerized deployment

**Database:**
- **PostgreSQL on Heroku**
- **AWS RDS**
- **DigitalOcean Managed Databases**
- **Supabase** - PostgreSQL with additional features

### Deployment Scripts

```bash
# Build both frontend and backend
npm run build

# Start production server
npm run start

# Backend production start
cd BackEnd && npm run start
```

---

## Contributing

We welcome contributions! Here's how you can help:

### Getting Started

1. **Fork the Repository**
   ```bash
   git clone https://github.com/YOUR-USERNAME/ShockWave.git
   ```

2. **Create a Feature Branch**
   ```bash
   git checkout -b feature/amazing-feature
   ```

3. **Make Your Changes**
   - Follow existing code style
   - Add tests for new features
   - Update documentation

4. **Commit Your Changes**
   ```bash
   git commit -m "Add amazing feature"
   ```

5. **Push to Your Fork**
   ```bash
   git push origin feature/amazing-feature
   ```

6. **Open a Pull Request**
   - Describe your changes
   - Reference related issues
   - Wait for review

### Contribution Guidelines

- **Code Style**: Follow ESLint configuration
- **Commits**: Use clear, descriptive commit messages
- **Testing**: Add tests for new features
- **Documentation**: Update relevant docs
- **PR Size**: Keep pull requests focused and manageable

### Areas for Contribution

- Bug fixes
- New features
- Documentation improvements
- UI/UX enhancements
- Test coverage
- Accessibility improvements
- Internationalization (i18n)
- Security enhancements

---

## Troubleshooting

### Common Issues

#### Database Connection Error

**Problem**: `Error: Cannot connect to database`

**Solution**:
```bash
cd BackEnd
npm run db:init
```

#### Port Already in Use

**Problem**: `Error: Port 5000 is already in use`

**Solution**:
```bash
# Windows
netstat -ano | findstr :5000
taskkill /PID <PID> /F

# macOS/Linux
lsof -ti:5000 | xargs kill -9
```

Or change the port in `BackEnd/.env`:
```env
PORT=5001
```

#### JWT Token Errors

**Problem**: `Invalid token` or `Token expired`

**Solution**:
1. Clear browser localStorage
2. Log out and log back in
3. Check JWT_SECRET in `.env`
4. Verify JWT_EXPIRES_IN value

#### File Upload Errors

**Problem**: `File too large` or `Upload failed`

**Solution**:
1. Check `MAX_FILE_SIZE` in `.env`
2. Ensure `uploads/` directory exists
3. Verify file permissions

#### CORS Errors

**Problem**: `Access-Control-Allow-Origin` error

**Solution**:
1. Verify `FRONTEND_URL` in `BackEnd/.env`
2. Check CORS configuration in `BackEnd/app.js`
3. Ensure both servers are running

#### Build Errors

**Problem**: Vite build fails

**Solution**:
```bash
# Clear node modules and reinstall
rm -rf node_modules package-lock.json
npm install

# Clear Vite cache
rm -rf node_modules/.vite
npm run dev
```

### Getting Help

If you encounter issues not covered here:

1. Check [ERROR_CHECK_REPORT.md](./ERROR_CHECK_REPORT.md)
2. Search existing [GitHub Issues](https://github.com/owen-stud123/ShockWave/issues)
3. Create a new issue with:
   - Detailed problem description
   - Steps to reproduce
   - Error messages
   - Environment information (OS, Node version, etc.)

---

## Project Status

### Current Version
**v1.0.0** - Stable Release

### Feature Status

| Feature | Status | Notes |
|---------|--------|-------|
| User Authentication | ‚úÖ Complete | JWT-based auth |
| Designer Profiles | ‚úÖ Complete | Portfolio support |
| Business Profiles | ‚úÖ Complete | Company info |
| Project Listings | ‚úÖ Complete | CRUD operations |
| Proposal System | ‚úÖ Complete | Bid management |
| Messaging | ‚úÖ Complete | Real-time chat |
| Payment Integration | üöß In Progress | Stripe integration |
| Review System | ‚úÖ Complete | 5-star ratings |
| Admin Panel | ‚úÖ Complete | User management |
| File Uploads | ‚úÖ Complete | Image optimization |
| Email Notifications | üìã Planned | Coming soon |
| Mobile App | üìã Planned | Future release |

### Roadmap

**Q1 2025:**
- [ ] Complete Stripe payment integration
- [ ] Email notification system
- [ ] Advanced search filters
- [ ] Designer verification badges

**Q2 2025:**
- [ ] Mobile responsive improvements
- [ ] Video portfolio support
- [ ] Analytics dashboard
- [ ] Multi-language support (i18n)

**Future:**
- [ ] Native mobile apps (iOS/Android)
- [ ] AI-powered designer matching
- [ ] Subscription plans
- [ ] Advanced analytics

---

## License

This project is licensed under the **MIT License** - see below for details:

```
MIT License

Copyright (c) 2025 ShockWave

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## Support

### Resources

- **Documentation**: [./DOCUMENTATION_INDEX.md](./DOCUMENTATION_INDEX.md)
- **Issue Tracker**: [GitHub Issues](https://github.com/owen-stud123/ShockWave/issues)
- **Discussions**: [GitHub Discussions](https://github.com/owen-stud123/ShockWave/discussions)

### Quick User Journey Examples

#### Designer Gets First Client
```
Register ‚Üí Setup Profile ‚Üí Upload Portfolio ‚Üí Browse Projects 
‚Üí Submit Proposal ‚Üí Get Hired ‚Üí Complete Work ‚Üí Get Paid ‚Üí Receive Review
```

#### Business Finds Designer
```
Register ‚Üí Create Company Profile ‚Üí Browse Designers ‚Üí Apply Filters 
‚Üí View Portfolio ‚Üí Contact Designer ‚Üí Discuss Project ‚Üí Hire ‚Üí Pay ‚Üí Review
```

#### Admin Monitors Platform
```
Login ‚Üí View Dashboard ‚Üí Monitor Transactions ‚Üí Review Reports 
‚Üí Moderate Content ‚Üí Resolve Disputes ‚Üí Manage Users
```

---

## Acknowledgments

### Built With

- [React](https://react.dev) - UI Framework
- [Vite](https://vitejs.dev) - Build Tool
- [Tailwind CSS](https://tailwindcss.com) - Styling
- [Framer Motion](https://www.framer.com/motion) - Animations
- [Express](https://expressjs.com) - Backend Framework
- [Stripe](https://stripe.com) - Payment Processing

---

<div align="center">
  <strong><a href="#shockwave---digital-marketplace-platform">‚Üë Back to Top</a></strong><br>
  <strong>ShockWave ‚Äì Connect. Create. Collaborate.</strong>
</div>
</file>

</files>
